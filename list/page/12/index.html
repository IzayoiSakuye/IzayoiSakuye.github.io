<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"izayoisakuye.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="红魔咖啡馆">
<meta property="og:url" content="https://izayoisakuye.github.io/list/page/12/index.html">
<meta property="og:site_name" content="红魔咖啡馆">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="IzayoiSakuye">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://izayoisakuye.github.io/list/page/12/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>红魔咖啡馆</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-shiki-plugin@latest/lib/codeblock.css">
<style>:root{--hl-color:#90a4ae;--hl-bg:#f6f8fa;--hltools-bg:#e6ebf1;--hltools-color:#90a4ae;--hlnumber-bg:#f6f8fa;--hlnumber-color:rgba(144,164,174,0.5);--hlscrollbar-bg:#dce4eb;--hlexpand-bg:linear-gradient(180deg,rgba(246,248,250,0.1),rgba(246,248,250,0.9))}</style><!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">红魔咖啡馆</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">头发越掉越多，头发越掉越少</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/CS61A%20Trees/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/CS61A%20Trees/" class="post-title-link" itemprop="url">【CS61A】CS61A——Trees</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-09 13:38:32" itemprop="dateCreated datePublished" datetime="2025-03-09T13:38:32+08:00">2025-03-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:53:03" itemprop="dateModified" datetime="2025-07-31T17:53:03+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="trees">Trees</h1>
<h2 id="描述树形结构的术语">描述树形结构的术语</h2>
<p><strong>递归描述</strong> - 一课树有一个根节点和一系列分支节点 -
每个分支也是一棵树，也有根节点与分支节点 -
没有分支节点的树被称为叶子节点</p>
<p><strong>亲戚描述</strong></p>
<ul>
<li>树的每个位置被称为节点</li>
<li>每个节点可以表示任何值</li>
<li>一个节点可以称为另一个节点的父节点/子节点 <img
src="Lecture14——Trees/trees.png" alt="trees" /></li>
</ul>
<h2 id="实现树形结构的抽象">实现树形结构的抽象</h2>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">tree</span><span style="color: #24292E">(label, branches</span><span style="color: #D73A49">=</span><span style="color: #24292E">[]):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> branch </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">assert</span><span style="color: #24292E"> is_tree(branch), </span><span style="color: #032F62">&quot;branches must be trees&quot;</span><span style="color: #24292E"> </span><span style="color: #6A737D"># 确保构造的是一棵树</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> [label] </span><span style="color: #D73A49">+</span><span style="color: #005CC5">list</span><span style="color: #24292E">(branches) </span><span style="color: #6A737D"># 将同一层的分支节点放在一个列表中</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">label</span><span style="color: #24292E">(tree):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> tree[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">branches</span><span style="color: #24292E">(tree):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> tree[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">is_tree</span><span style="color: #24292E">(tree):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;判断是不是一棵树&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">type</span><span style="color: #24292E">(tree) </span><span style="color: #D73A49">!=</span><span style="color: #24292E"> </span><span style="color: #005CC5">list</span><span style="color: #24292E"> </span><span style="color: #D73A49">or</span><span style="color: #24292E"> </span><span style="color: #005CC5">len</span><span style="color: #24292E">(tree) </span><span style="color: #D73A49">&lt;</span><span style="color: #005CC5">1</span><span style="color: #24292E">: </span><span style="color: #6A737D"># 确保树的分支是树，以及存在一个值</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">False</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> branch </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(tree): </span><span style="color: #6A737D"># 确保树的分支的分支都是树</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #D73A49">not</span><span style="color: #24292E"> is_tree(branch):</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">False</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">True</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">is_leaf</span><span style="color: #24292E">(tree): </span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;判断树本身是不是叶子节点&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">not</span><span style="color: #24292E"> branches(tree)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> tree(</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">5</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">7</span><span style="color: #24292E">)]), tree(</span><span style="color: #005CC5">6</span><span style="color: #24292E">)])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(t)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(label(t))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(branches(t))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(label(branches(t)[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]))</span></span></code></pre></div></div></figure>
<pre><code>[1, [5, [7]], [6]]
1
[[5, [7]], [6]]
5</code></pre>
<h2 id="tree-processing">Tree Processing</h2>
<h3 id="处理叶子节点">处理叶子节点</h3>
<p>使用递归，将会在每个分支节点进行递归调用，最后合并</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">count_leaves</span><span style="color: #24292E">(t):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Count the leaves of tree T&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> is_leaf(t):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">sum</span><span style="color: #24292E">([count_leaves(b) </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(t)])</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> tree(</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">5</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">7</span><span style="color: #24292E">)]), tree(</span><span style="color: #005CC5">6</span><span style="color: #24292E">)])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(count_leaves(t))</span></span></code></pre></div></div></figure>
<pre><code>2</code></pre>
<h3 id="返回叶子节点的值">返回叶子节点的值</h3>
<p>实现leaves函数，返回树的叶子节点的值的列表</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">leaves</span><span style="color: #24292E">(tree):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;return a list containing the leaf labels of tree&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> is_leaf(tree):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> [label(tree)]</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">sum</span><span style="color: #24292E">([leaves(b) </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(tree)], [])</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> tree(</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">5</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">7</span><span style="color: #24292E">)]), tree(</span><span style="color: #005CC5">6</span><span style="color: #24292E">)])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(leaves(t))</span></span></code></pre></div></div></figure>
<pre><code>[7, 6]</code></pre>
<h3 id="根据树创建树">根据树创建树</h3>
<p>使用递归根据另一棵树创建一颗新树 如让叶子节点值+1的树
或让所有节点都+1的树</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">increment_leaves</span><span style="color: #24292E">(t):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;return a tree like t but with leaf labels incremented&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> is_leaf(t):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> tree(label(t)</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        bs </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [increment_leaves(b) </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(t)]</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> tree(label(t), bs)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">increment</span><span style="color: #24292E">(t):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;return a tree like t but with all labels incremented&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> tree(label(t)</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [increment(b) </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(t)])</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> tree(</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">5</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">7</span><span style="color: #24292E">)]), tree(</span><span style="color: #005CC5">6</span><span style="color: #24292E">)])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(leaves(t))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(increment_leaves(t))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(increment(t))</span></span></code></pre></div></div></figure>
<pre><code>[7, 6]
[1, [5, [8]], [7]]
[2, [6, [8]], [7]]</code></pre>
<h2 id="例print_tree">例：print_tree</h2>
<p>按节点在树中的深度缩进打印一颗树</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">print_tree</span><span style="color: #24292E">(t, indent </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&#39; &#39;</span><span style="color: #D73A49">*</span><span style="color: #24292E">indent </span><span style="color: #D73A49">+</span><span style="color: #24292E"> </span><span style="color: #005CC5">str</span><span style="color: #24292E">(label(t)))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(t):</span></span>
<span class="line"><span style="color: #24292E">        print_tree(b, indent</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> tree(</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">5</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">7</span><span style="color: #24292E">)]), tree(</span><span style="color: #005CC5">6</span><span style="color: #24292E">)])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(print_tree(t))</span></span></code></pre></div></div></figure>
<pre><code>1
 5
  7
 6
None</code></pre>
<h2 id="例-求从根节点沿路径到叶子节点求和并打印">例：
求从根节点沿路径到叶子节点求和并打印</h2>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">print_sums</span><span style="color: #24292E">(t, so_far):</span></span>
<span class="line"><span style="color: #24292E">    so_far </span><span style="color: #D73A49">=</span><span style="color: #24292E"> so_far </span><span style="color: #D73A49">+</span><span style="color: #24292E">label(t)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> is_leaf(t):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">print</span><span style="color: #24292E">(so_far)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(t):</span></span>
<span class="line"><span style="color: #24292E">            print_sums(b,so_far)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> tree(</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">5</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">7</span><span style="color: #24292E">)]), tree(</span><span style="color: #005CC5">6</span><span style="color: #24292E">)])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(print_sums(t, </span><span style="color: #005CC5">0</span><span style="color: #24292E">))</span></span></code></pre></div></div></figure>
<pre><code>13
7
None</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/CS61A%20Lab4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/CS61A%20Lab4/" class="post-title-link" itemprop="url">【CS61A】CS61A——Lab4</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-06 17:57:15" itemprop="dateCreated datePublished" datetime="2025-03-06T17:57:15+08:00">2025-03-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:51:23" itemprop="dateModified" datetime="2025-07-31T17:51:23+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><em>Dictionaries 部分跳过</em></p>
<h1 id="divide">Divide</h1>
<p>传入一组商数与一组除数，返回字典，键为每个商数，值为表示每个商数能整除的除数的列表</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">divide</span><span style="color: #24292E">(quotients, divisors):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return a dictonary in which each quotient q is a key for the list of</span></span>
<span class="line"><span style="color: #032F62">    divisors that it divides evenly.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">divide([3, 4, 5], [8, 9, 10, 11, 12])</span></span>
<span class="line"><span style="color: #032F62">    {3: [9, 12], 4: [8, 12], 5: [10]}</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">divide(range(1, 5), range(20, 25))</span></span>
<span class="line"><span style="color: #032F62">    {1: [20, 21, 22, 23, 24], 2: [20, 22, 24], 3: [21, 24], 4: [20, 24]}</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> {i: [x </span><span style="color: #D73A49">for</span><span style="color: #24292E"> x </span><span style="color: #D73A49">in</span><span style="color: #24292E"> divisors </span><span style="color: #D73A49">if</span><span style="color: #24292E"> x</span><span style="color: #D73A49">%</span><span style="color: #24292E">i</span><span style="color: #D73A49">==</span><span style="color: #005CC5">0</span><span style="color: #24292E">] </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> quotients}</span></span></code></pre></div></div></figure>
<p>注意用表达式建立列表与字典的方法</p>
<h1 id="buying-fruit">Buying Fruit</h1>
<p>实现buy函数，通过给定的水果与价格，用恰好为传入的total_amount的价格购买指定的水果（每种指定水果至少买一次）
用display函数输出所有结果</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">buy</span><span style="color: #24292E">(required_fruits, prices, total_amount):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Print ways to buy some of each fruit so that the sum of prices is amount.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">prices = {&#39;oranges&#39;: 4, &#39;apples&#39;: 3, &#39;bananas&#39;: 2, &#39;kiwis&#39;: 9}</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">buy([&#39;apples&#39;, &#39;oranges&#39;, &#39;bananas&#39;], prices, 12)</span></span>
<span class="line"><span style="color: #032F62">    [2 apples][1 orange][1 banana]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">buy([&#39;apples&#39;, &#39;oranges&#39;, &#39;bananas&#39;], prices, 16)</span></span>
<span class="line"><span style="color: #032F62">    [2 apples][1 orange][3 bananas]</span></span>
<span class="line"><span style="color: #032F62">    [2 apples][2 oranges][1 banana]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">buy([&#39;apples&#39;, &#39;kiwis&#39;], prices, 36)</span></span>
<span class="line"><span style="color: #032F62">    [3 apples][3 kiwis]</span></span>
<span class="line"><span style="color: #032F62">    [6 apples][2 kiwis]</span></span>
<span class="line"><span style="color: #032F62">    [9 apples][1 kiwi]</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">add</span><span style="color: #24292E">(fruits, amount, cart):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> fruits </span><span style="color: #D73A49">==</span><span style="color: #24292E"> [] </span><span style="color: #D73A49">and</span><span style="color: #24292E"> amount </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #005CC5">print</span><span style="color: #24292E">(cart)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">elif</span><span style="color: #24292E"> fruits </span><span style="color: #D73A49">and</span><span style="color: #24292E"> amount </span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            fruit </span><span style="color: #D73A49">=</span><span style="color: #24292E"> fruits[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">            price </span><span style="color: #D73A49">=</span><span style="color: #24292E"> prices[fruit]</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">for</span><span style="color: #24292E"> k </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">1</span><span style="color: #24292E">,amount</span><span style="color: #D73A49">//</span><span style="color: #24292E">price</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">                add(fruits[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:], amount</span><span style="color: #D73A49">-</span><span style="color: #24292E">k</span><span style="color: #D73A49">*</span><span style="color: #24292E">price, cart</span><span style="color: #D73A49">+</span><span style="color: #24292E">display(fruit,k))</span></span>
<span class="line"><span style="color: #24292E">    add(required_fruits, total_amount, </span><span style="color: #032F62">&#39;&#39;</span><span style="color: #24292E">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">display</span><span style="color: #24292E">(fruit, count):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Display a count of a fruit in square brackets.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">display(&#39;apples&#39;, 3)</span></span>
<span class="line"><span style="color: #032F62">    &#39;[3 apples]&#39;</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">display(&#39;apples&#39;, 1)</span></span>
<span class="line"><span style="color: #032F62">    &#39;[1 apple]&#39;</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">assert</span><span style="color: #24292E"> count </span><span style="color: #D73A49">&gt;=</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span><span style="color: #24292E"> </span><span style="color: #D73A49">and</span><span style="color: #24292E"> fruit[</span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">] </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;s&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> count </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        fruit </span><span style="color: #D73A49">=</span><span style="color: #24292E"> fruit[:</span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">]  </span><span style="color: #6A737D"># get rid of the plural s</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;[&#39;</span><span style="color: #24292E"> </span><span style="color: #D73A49">+</span><span style="color: #24292E"> </span><span style="color: #005CC5">str</span><span style="color: #24292E">(count) </span><span style="color: #D73A49">+</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39; &#39;</span><span style="color: #24292E"> </span><span style="color: #D73A49">+</span><span style="color: #24292E"> fruit </span><span style="color: #D73A49">+</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;]&#39;</span></span></code></pre></div></div></figure>
<p>返回条件是fruits为空或钱被花光，且递归时每次都取fruits的首个元素
可以推断递归时对fruits数组进行了切片，每次往后切一个元素
for循环遍历选择每个水果的个数，从至少选一个到最多能选的个数<span
class="math inline">\(\frac{amount}{price}+1\)</span>
递归时传入总价格减去已经使用的价格数的不同情况，并使用display函数进行字符串拼接来显示</p>
<h1 id="cities-adt">Cities ADT</h1>
<p>以下问题基于建立的该ADT
一个城市由以下参数描述：<strong>名称、经度、维度</strong>
包括一个构造函数 -
<code>make_city(name, lat, lon)</code>：建立一个城市对象，存储其名称、经度、维度
以下选择器 - <code>get_name(city)</code>：获取城市名称 -
<code>get_lat(city)</code>：获取城市经度 -
<code>get_lon(city)</code>：获取城市维度
该抽象数据类型已经在文件中实现，你不需要知道是怎么实现的</p>
<h1 id="distance">Distance</h1>
<p>计算并返回两城市的距离</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">from</span><span style="color: #24292E"> math </span><span style="color: #D73A49">import</span><span style="color: #24292E"> sqrt</span></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">distance</span><span style="color: #24292E">(city_a, city_b):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">city_a = make_city(&#39;city_a&#39;, 0, 1)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">city_b = make_city(&#39;city_b&#39;, 0, 2)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">distance(city_a, city_b)</span></span>
<span class="line"><span style="color: #032F62">    1.0</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">city_c = make_city(&#39;city_c&#39;, 6.5, 12)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">city_d = make_city(&#39;city_d&#39;, 2.5, 15)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">distance(city_c, city_d)</span></span>
<span class="line"><span style="color: #032F62">    5.0</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> sqrt(</span><span style="color: #005CC5">abs</span><span style="color: #24292E">(get_lat(city_a)</span><span style="color: #D73A49">-</span><span style="color: #24292E">get_lat(city_b))</span><span style="color: #D73A49">**</span><span style="color: #005CC5">2</span><span style="color: #D73A49">+</span><span style="color: #005CC5">abs</span><span style="color: #24292E">(get_lon(city_a)</span><span style="color: #D73A49">-</span><span style="color: #24292E">get_lon(city_b))</span><span style="color: #D73A49">**</span><span style="color: #005CC5">2</span><span style="color: #24292E">)</span></span></code></pre></div></div></figure>
<h1 id="closer-city">Closer City</h1>
<p>比较两个城市离给定经纬度的远近，返回更近的那个城市</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">closer_city</span><span style="color: #24292E">(lat, lon, city_a, city_b):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #032F62">    Returns the name of either city_a or city_b, whichever is closest to</span></span>
<span class="line"><span style="color: #032F62">    coordinate (lat, lon). If the two cities are the same distance away</span></span>
<span class="line"><span style="color: #032F62">    from the coordinate, consider city_b to be the closer city.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">berkeley = make_city(&#39;Berkeley&#39;, 37.87, 112.26)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">stanford = make_city(&#39;Stanford&#39;, 34.05, 118.25)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">closer_city(38.33, 121.44, berkeley, stanford)</span></span>
<span class="line"><span style="color: #032F62">    &#39;Stanford&#39;</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">bucharest = make_city(&#39;Bucharest&#39;, 44.43, 26.10)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">vienna = make_city(&#39;Vienna&#39;, 48.20, 16.37)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">closer_city(41.29, 174.78, bucharest, vienna)</span></span>
<span class="line"><span style="color: #032F62">    &#39;Bucharest&#39;</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    fake_city </span><span style="color: #D73A49">=</span><span style="color: #24292E"> make_city(</span><span style="color: #032F62">&#39;fake&#39;</span><span style="color: #24292E">, lat, lon)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> distance(fake_city,city_a)</span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">distance(fake_city,city_b):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> get_name(city_a)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> get_name(city_b)</span></span></code></pre></div></div></figure>
<p>可以将指定的经纬度看作第三个城市并构造这么一个对象
通过上面已经写完的distance函数计算两城市与第三个城市的距离并比较，输出更近的
若相同输出city_b</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/CS61A%20Data%20Abstraction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/CS61A%20Data%20Abstraction/" class="post-title-link" itemprop="url">【CS61A】CS61A——Data Abstraction</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-03 20:52:03" itemprop="dateCreated datePublished" datetime="2025-03-03T20:52:03+08:00">2025-03-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:49:07" itemprop="dateModified" datetime="2025-07-31T17:49:07+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="data-abstraction">Data Abstraction</h1>
<h2 id="data-abstraction-1">Data Abstraction</h2>
<p>大多数值都是复合值，由多种对象组成</p>
<p>抽象数据类型可以让我们将符合对象作为一个单元操作，允许我们隔离使用数据的程序的两个部分：</p>
<ul>
<li>数据的表示</li>
<li>数据的操作</li>
</ul>
<p>即在数据的表示与操作之间建立一个抽象屏障</p>
<h2 id="examplerational-numbers">Example——Rational Numbers</h2>
<h3 id="表示">表示</h3>
<p>任何有理数可以表示为一个最简分数</p>
<p>这为小数提供了更精确的表示方法</p>
<p>故我们需要分开分子分母，作为一个复合数据类型：</p>
<ul>
<li><code>rational(n,d)</code>返回一个有理数x</li>
<li><code>numer(x)</code>返回有理数x的分子</li>
<li><code>denom(x)</code>返回有理数的分母</li>
</ul>
<p>第一个函数称为构造函数（constructor），它用于构造一个新值作为抽象数据类型的实例（instance）</p>
<p>第二、三个函数称为选择器（selectors），它们返回得到的有理数的整数部分</p>
<p>这三个函数作为有理数的抽象数据类型使用，用它们进行数字操作</p>
<h3 id="算术">算术</h3>
<p>根据小学二年级知识，我们根据分数来执行有理数加乘，公式如下</p>
<figure>
<img src="Lecture13——Data%20Abstraction/image-20250303192132061.png"
alt="有理数算术" />
<figcaption aria-hidden="true">有理数算术</figcaption>
</figure>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">mul_rational</span><span style="color: #24292E">(x,y):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> rational(numer(x)</span><span style="color: #D73A49">*</span><span style="color: #24292E">numer(y),denom(x)</span><span style="color: #D73A49">*</span><span style="color: #24292E">denom(y))</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">add_rational</span><span style="color: #24292E">(x,y):</span></span>
<span class="line"><span style="color: #24292E">    nx, dx </span><span style="color: #D73A49">=</span><span style="color: #24292E"> numer(x), denom(y)</span></span>
<span class="line"><span style="color: #24292E">    ny, dy </span><span style="color: #D73A49">=</span><span style="color: #24292E"> numer(y), denom(y)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> rational(nx</span><span style="color: #D73A49">*</span><span style="color: #24292E">dy</span><span style="color: #D73A49">+</span><span style="color: #24292E">ny</span><span style="color: #D73A49">*</span><span style="color: #24292E">dx, dx</span><span style="color: #D73A49">*</span><span style="color: #24292E">dy)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">equal_rational</span><span style="color: #24292E">(x,y):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> numer(x)</span><span style="color: #D73A49">*</span><span style="color: #24292E">denom(y)</span><span style="color: #D73A49">==</span><span style="color: #24292E">numer(y)</span><span style="color: #D73A49">*</span><span style="color: #24292E">denom(x)</span></span></code></pre></div></div></figure>
<h2 id="abstraction-barriers">Abstraction Barriers</h2>
<p>拿上方的有理数函数作为例子</p>
<figure>
<img src="Lecture13——Data%20Abstraction/image-20250303193211301.png"
alt="抽象屏障" />
<figcaption aria-hidden="true">抽象屏障</figcaption>
</figure>
<p>抽象屏障表示使用由有理数计算时使用的函数只能是对应相关的，而不能越界表示</p>
<ul>
<li>用有理数计算时只需要使用计算相关函数</li>
<li>用来表示有理数和进行操作时只需要使用对应构造函数与选择器</li>
<li>用来构建构造函数与选择器时需要用到列表与元素选择</li>
</ul>
<p>一种跨越了抽象屏障的反例：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">add_rational([</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">2</span><span style="color: #24292E">],[</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">4</span><span style="color: #24292E">])</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">divide_rational</span><span style="color: #24292E">(x,y):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> [x[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]</span><span style="color: #D73A49">*</span><span style="color: #24292E">y[</span><span style="color: #005CC5">1</span><span style="color: #24292E">], x[</span><span style="color: #005CC5">1</span><span style="color: #24292E">]</span><span style="color: #D73A49">*</span><span style="color: #24292E">y[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]]</span></span></code></pre></div></div></figure>
<h2 id="pair">Pair</h2>
<h3 id="创建与访问">创建与访问</h3>
<p>通常使用列表表示一个pair</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">&gt;&gt;&gt;</span><span style="color: #24292E"> pair </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">2</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #D73A49">&gt;&gt;&gt;</span><span style="color: #24292E"> pair</span></span>
<span class="line"><span style="color: #24292E">[</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">2</span><span style="color: #24292E">]</span></span></code></pre></div></div></figure>
<p>通过序列解包或列表下标获得pair中的两个值</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">&gt;&gt;&gt;</span><span style="color: #24292E"> x,y</span><span style="color: #D73A49">=</span><span style="color: #24292E">pair</span></span>
<span class="line"><span style="color: #D73A49">&gt;&gt;&gt;</span><span style="color: #24292E"> x</span></span>
<span class="line"><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #D73A49">&gt;&gt;&gt;</span><span style="color: #24292E"> y</span></span>
<span class="line"><span style="color: #005CC5">2</span></span>
<span class="line"><span style="color: #D73A49">&gt;&gt;&gt;</span><span style="color: #24292E"> pair[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #005CC5">1</span></span></code></pre></div></div></figure>
<p>还可以用getitem函数获得值，在operator库中</p>
<p>用法：<code>getitem(&lt;list&gt;, &lt;index&gt;)</code></p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">&gt;&gt;&gt;</span><span style="color: #24292E"> getitem(pair, </span><span style="color: #005CC5">0</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #D73A49">&gt;&gt;&gt;</span><span style="color: #24292E"> getitem(pair, </span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #005CC5">2</span></span></code></pre></div></div></figure>
<h3 id="用pair表示有理数">用pair表示有理数</h3>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">rational</span><span style="color: #24292E">(n,d):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Construct a rational number that represents N/D&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> [n, d]</span></span></code></pre></div></div></figure>
<p>返回一个列表，记录分子分母用来表示有理数</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">numer</span><span style="color: #24292E">(x):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the numerator of rational number x&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> x[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">denom</span><span style="color: #24292E">(x):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the denominator of rational number x&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> x[</span><span style="color: #005CC5">1</span><span style="color: #24292E">]</span></span></code></pre></div></div></figure>
<p>通过访问列表中的元素返回分子分母</p>
<h2 id="应用">应用</h2>
<h3 id="分数通分">分数通分</h3>
<p>有理数的分子分母应互质，故我们可以用gcd获取它们的最大公因数来同时除以分子分母以确保获得互质的分子分母</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">from</span><span style="color: #24292E"> fractions </span><span style="color: #D73A49">import</span><span style="color: #24292E"> gcd</span></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">rational</span><span style="color: #24292E">(n,d):</span></span>
<span class="line"><span style="color: #24292E">    g </span><span style="color: #D73A49">=</span><span style="color: #24292E"> gcd(n,d)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> [n</span><span style="color: #D73A49">//</span><span style="color: #24292E">g, d</span><span style="color: #D73A49">//</span><span style="color: #24292E">g]</span></span></code></pre></div></div></figure>
<h2 id="data-representation">Data Representation</h2>
<p>数据抽象的基本思想：通过它的行为来识别该抽象数据类型</p>
<p>改变有理数的表现形式</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">rational</span><span style="color: #24292E">(n,d):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">select</span><span style="color: #24292E">(name):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> name </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;n&#39;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> n</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">elif</span><span style="color: #24292E"> name </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;d&#39;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> d</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> select</span></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">numer</span><span style="color: #24292E">(x):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the numerator of rational number x&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> x(</span><span style="color: #032F62">&#39;n&#39;</span><span style="color: #24292E">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">denom</span><span style="color: #24292E">(x):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the denominator of rational number x&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> x(</span><span style="color: #032F62">&#39;d&#39;</span><span style="color: #24292E">)</span></span></code></pre></div></div></figure>
<p>这里使x成为一个函数，这样就可以不需要内置的列表数据类型了</p>
<p>此时rational是一个高阶函数，返回一个表示有理数的函数</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/CS61A%20Lab3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/CS61A%20Lab3/" class="post-title-link" itemprop="url">【CS61A】CS61A——Lab3</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-03 20:51:43" itemprop="dateCreated datePublished" datetime="2025-03-03T20:51:43+08:00">2025-03-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:51:16" itemprop="dateModified" datetime="2025-07-31T17:51:16+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><em>WWPD部分省略</em></p>
<h1 id="print-if">Print If</h1>
<p>返回列表中满足函数f的元素</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">print_if</span><span style="color: #24292E">(s, f):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Print each element of s for which f returns a true value.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">print_if([3, 4, 5, 6], lambda x: x &gt; 4)</span></span>
<span class="line"><span style="color: #032F62">    5</span></span>
<span class="line"><span style="color: #032F62">    6</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">result = print_if([3, 4, 5, 6], lambda x: x % 2 == 0)</span></span>
<span class="line"><span style="color: #032F62">    4</span></span>
<span class="line"><span style="color: #032F62">    6</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">print(result)  # print_if should return None</span></span>
<span class="line"><span style="color: #032F62">    None</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> x </span><span style="color: #D73A49">in</span><span style="color: #24292E"> s:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> f(x):</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #005CC5">print</span><span style="color: #24292E">(x)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">None</span></span></code></pre></div></div></figure>
<h1 id="close">Close</h1>
<p>返回列表中元素大小与下标差的绝对值小于规定值的元素个数</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">close</span><span style="color: #24292E">(s, k):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return how many elements of s that are within k of their index.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">t = [6, 2, 4, 3, 5]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">close(t, 0)  # Only 3 is equal to its index</span></span>
<span class="line"><span style="color: #032F62">    1</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">close(t, 1)  # 2, 3, and 5 are within 1 of their index</span></span>
<span class="line"><span style="color: #032F62">    3</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">close(t, 2)  # 2, 3, 4, and 5 are all within 2 of their index</span></span>
<span class="line"><span style="color: #032F62">    4</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">close(list(range(10)), 0)</span></span>
<span class="line"><span style="color: #032F62">    10</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    count </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">len</span><span style="color: #24292E">(s)):  </span><span style="color: #6A737D"># Use a range to loop over indices</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">abs</span><span style="color: #24292E">(s[i]</span><span style="color: #D73A49">-</span><span style="color: #24292E">i)</span><span style="color: #D73A49">&lt;=</span><span style="color: #24292E">k :</span></span>
<span class="line"><span style="color: #24292E">            count</span><span style="color: #D73A49">+=</span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> count</span></span></code></pre></div></div></figure>
<h1 id="close-list">Close List</h1>
<p>返回一个列表，元素为给定列表中元素大小与下标差的绝对值小于规定值的元素</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">close_list</span><span style="color: #24292E">(s, k):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return a list of the elements of s that are within k of their index.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">t = [6, 2, 4, 3, 5]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">close_list(t, 0)  # Only 3 is equal to its index</span></span>
<span class="line"><span style="color: #032F62">    [3]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">close_list(t, 1)  # 2, 3, and 5 are within 1 of their index</span></span>
<span class="line"><span style="color: #032F62">    [2, 3, 5]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">close_list(t, 2)  # 2, 3, 4, and 5 are all within 2 of their index</span></span>
<span class="line"><span style="color: #032F62">    [2, 4, 3, 5]</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> [s[i] </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">len</span><span style="color: #24292E">(s)) </span><span style="color: #D73A49">if</span><span style="color: #24292E"> s[i]</span><span style="color: #D73A49">-</span><span style="color: #24292E">i</span><span style="color: #D73A49">&lt;=</span><span style="color: #24292E">k]</span></span></code></pre></div></div></figure>
<h1 id="squares-only">Squares Only</h1>
<p>返回一个列表，元素为给定列表中为完全平方数的元素</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">from</span><span style="color: #24292E"> math </span><span style="color: #D73A49">import</span><span style="color: #24292E"> sqrt</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">squares</span><span style="color: #24292E">(s):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Returns a new list containing square roots of the elements of the</span></span>
<span class="line"><span style="color: #032F62">    original list that are perfect squares.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">seq = [8, 49, 8, 9, 2, 1, 100, 102]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">squares(seq)</span></span>
<span class="line"><span style="color: #032F62">    [7, 3, 1, 10]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">seq = [500, 30]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">squares(seq)</span></span>
<span class="line"><span style="color: #032F62">    []</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> [</span><span style="color: #005CC5">int</span><span style="color: #24292E">(sqrt(n)) </span><span style="color: #D73A49">for</span><span style="color: #24292E"> n </span><span style="color: #D73A49">in</span><span style="color: #24292E"> s </span><span style="color: #D73A49">if</span><span style="color: #24292E"> sqrt(n)</span><span style="color: #D73A49">==</span><span style="color: #005CC5">round</span><span style="color: #24292E">(sqrt(n))]</span></span></code></pre></div></div></figure>
<p>注意返回的是开方后的数，是整数</p>
<h1 id="double-eights">Double Eights</h1>
<p>使用递归判断给定的数中是否存在相邻的两个8</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">double_eights</span><span style="color: #24292E">(n):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot; Returns whether or not n has two digits in row that</span></span>
<span class="line"><span style="color: #032F62">    are the number 8. Assume n has at least two digits in it.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">double_eights(1288)</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">double_eights(880)</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">double_eights(538835)</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">double_eights(284682)</span></span>
<span class="line"><span style="color: #032F62">    False</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">double_eights(588138)</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">double_eights(78)</span></span>
<span class="line"><span style="color: #032F62">    False</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">from construct_check import check</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62"># ban iteration</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">check(LAB_SOURCE_FILE, &#39;double_eights&#39;, [&#39;While&#39;, &#39;For&#39;])</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> n</span><span style="color: #D73A49">==</span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">False</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> n</span><span style="color: #D73A49">%</span><span style="color: #005CC5">100</span><span style="color: #D73A49">==</span><span style="color: #005CC5">88</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">True</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> double_eights(n</span><span style="color: #D73A49">//</span><span style="color: #005CC5">10</span><span style="color: #24292E">)</span></span></code></pre></div></div></figure>
<h1 id="making-onions">Making Onions</h1>
<p>判断是否能通过f函数与g函数进行至多limit次操作实现将x转化为y</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">make_onion</span><span style="color: #24292E">(f, g):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return a function can_reach(x, y, limit) that returns</span></span>
<span class="line"><span style="color: #032F62">    whether some call expression containing only f, g, and x with</span></span>
<span class="line"><span style="color: #032F62">    up to limit calls will give the result y.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">up = lambda x: x + 1</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">double = lambda y: y * 2</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">can_reach = make_onion(up, double)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">can_reach(5, 25, 4)      # 25 = up(double(double(up(5))))</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">can_reach(5, 25, 3)      # Not possible</span></span>
<span class="line"><span style="color: #032F62">    False</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">can_reach(1, 1, 0)      # 1 = 1</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">add_ing = lambda x: x + &quot;ing&quot;</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">add_end = lambda y: y + &quot;end&quot;</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">can_reach_string = make_onion(add_ing, add_end)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">can_reach_string(&quot;cry&quot;, &quot;crying&quot;, 1)      # &quot;crying&quot; = add_ing(&quot;cry&quot;)</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">can_reach_string(&quot;un&quot;, &quot;unending&quot;, 3)     # &quot;unending&quot; = add_ing(add_end(&quot;un&quot;))</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">can_reach_string(&quot;peach&quot;, &quot;folding&quot;, 4)   # Not possible</span></span>
<span class="line"><span style="color: #032F62">    False</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">can_reach</span><span style="color: #24292E">(x, y, limit):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> limit </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">False</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">elif</span><span style="color: #24292E"> x </span><span style="color: #D73A49">==</span><span style="color: #24292E"> y:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">True</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> can_reach(f(x), y, limit </span><span style="color: #D73A49">-</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span><span style="color: #24292E">) </span><span style="color: #D73A49">or</span><span style="color: #24292E"> can_reach(g(x), y, limit </span><span style="color: #D73A49">-</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> can_reach</span></span></code></pre></div></div></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/Project2%20Cat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/Project2%20Cat/" class="post-title-link" itemprop="url">【CS61A】Project2-Cat</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-03 19:03:04" itemprop="dateCreated datePublished" datetime="2025-03-03T19:03:04+08:00">2025-03-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:53:32" itemprop="dateModified" datetime="2025-07-31T17:53:32+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>13k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>23 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="project2-cat">Project2-Cat</h1>
<p>实现一个金山打字通（？）</p>
<p>具体实现：记录打字速度以及自动修正拼写错误的字符</p>
<h2 id="phase-1-typing">Phase 1: Typing</h2>
<p>实现打字以及检测打字速度相关功能</p>
<h3 id="problem-1">Problem 1</h3>
<p>挑选用户打字的段落</p>
<p><strong>pick函数</strong></p>
<p>参数：</p>
<ul>
<li>paragraphs：一串字符串记录了打字内容</li>
<li>select：一个函数，检测段落是否能被选择</li>
<li>k：非负数，作为index</li>
</ul>
<p>思路：</p>
<ul>
<li>函数功能实现了用户选择第k个段落作为打字内容</li>
<li>若选择的k没有对应段落则返回空字符串</li>
<li>选择的字符串要符合select函数的条件</li>
<li>符合条件的才能编号第k个字符串</li>
</ul>
<p>code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">pick</span><span style="color: #24292E">(paragraphs, select, k):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the Kth paragraph from PARAGRAPHS for which SELECT called on the</span></span>
<span class="line"><span style="color: #032F62">    paragraph returns True. If there are fewer than K such paragraphs, return</span></span>
<span class="line"><span style="color: #032F62">    the empty string.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    Arguments:</span></span>
<span class="line"><span style="color: #032F62">        paragraphs: a list of strings</span></span>
<span class="line"><span style="color: #032F62">        select: a function that returns True for paragraphs that can be selected</span></span>
<span class="line"><span style="color: #032F62">        k: an integer</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">ps = [&#39;hi&#39;, &#39;how are you&#39;, &#39;fine&#39;]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">s = lambda p: len(p) &lt;= 4</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">pick(ps, s, 0)</span></span>
<span class="line"><span style="color: #032F62">    &#39;hi&#39;</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">pick(ps, s, 1)</span></span>
<span class="line"><span style="color: #032F62">    &#39;fine&#39;</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">pick(ps, s, 2)</span></span>
<span class="line"><span style="color: #032F62">    &#39;&#39;</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 1</span></span>
<span class="line"><span style="color: #24292E">    valid_para </span><span style="color: #D73A49">=</span><span style="color: #24292E"> []</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> s </span><span style="color: #D73A49">in</span><span style="color: #24292E"> paragraphs:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> select(s):</span></span>
<span class="line"><span style="color: #24292E">            valid_para.append(s)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> k</span><span style="color: #D73A49">&gt;=</span><span style="color: #005CC5">len</span><span style="color: #24292E">(valid_para):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> valid_para[k]</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 1</span></span></code></pre></div></div></figure>
<h3 id="problem-2">Problem 2</h3>
<p>通过给定的关键词选取段落</p>
<p><strong>about函数</strong></p>
<p>参数：subject：关键词列表</p>
<p>思路：</p>
<ul>
<li>about函数用于pick函数中的select选项，用于筛选指定关键字的段落</li>
<li>故它返回的是一个select函数，若段落满足条件则返回True否则返回False</li>
<li>单词匹配时不区分大小写，但要是一个完整单词，且不能是单词的字串</li>
<li>可以使用给定的函数remove_punctuation-去除标点，lower-变小写，split-将一句话分割为若干单词存入列表</li>
</ul>
<p>code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">about</span><span style="color: #24292E">(subject):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return a select function that returns whether</span></span>
<span class="line"><span style="color: #032F62">    a paragraph contains one of the words in SUBJECT.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    Arguments:</span></span>
<span class="line"><span style="color: #032F62">        subject: a list of words related to a subject</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">about_dogs = about([&#39;dog&#39;, &#39;dogs&#39;, &#39;pup&#39;, &#39;puppy&#39;])</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">pick([&#39;Cute Dog!&#39;, &#39;That is a cat.&#39;, &#39;Nice pup!&#39;], about_dogs, 0)</span></span>
<span class="line"><span style="color: #032F62">    &#39;Cute Dog!&#39;</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">pick([&#39;Cute Dog!&#39;, &#39;That is a cat.&#39;, &#39;Nice pup.&#39;], about_dogs, 1)</span></span>
<span class="line"><span style="color: #032F62">    &#39;Nice pup.&#39;</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">assert</span><span style="color: #24292E"> </span><span style="color: #005CC5">all</span><span style="color: #24292E">([lower(x) </span><span style="color: #D73A49">==</span><span style="color: #24292E"> x </span><span style="color: #D73A49">for</span><span style="color: #24292E"> x </span><span style="color: #D73A49">in</span><span style="color: #24292E"> subject]), </span><span style="color: #032F62">&#39;subjects should be lowercase.&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 2</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">select</span><span style="color: #24292E">(para):</span></span>
<span class="line"><span style="color: #24292E">        sp_para </span><span style="color: #D73A49">=</span><span style="color: #24292E"> split(remove_punctuation(para))</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">0</span><span style="color: #24292E">,</span><span style="color: #005CC5">len</span><span style="color: #24292E">(sp_para)):</span></span>
<span class="line"><span style="color: #24292E">            sp_para[i]</span><span style="color: #D73A49">=</span><span style="color: #24292E">lower(sp_para[i])</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">for</span><span style="color: #24292E"> s </span><span style="color: #D73A49">in</span><span style="color: #24292E"> subject:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">if</span><span style="color: #24292E"> s </span><span style="color: #D73A49">in</span><span style="color: #24292E"> sp_para:</span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">True</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">False</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> select</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 2</span></span></code></pre></div></div></figure>
<h3 id="problem-3">Problem 3</h3>
<p>计算已经输入且匹配单词占需要输入内容的百分比</p>
<p><strong>accuracy函数</strong></p>
<p>参数：</p>
<ul>
<li>typed：已经输入的内容</li>
<li>source：需要输入的内容</li>
</ul>
<p>思路：</p>
<ul>
<li>按单词顺序匹配指定输入内容，第一个对第一个，第二个对第二个….</li>
<li>区分大小写，且包含标点符号</li>
<li>若已经输入内容比需要输入内容长，则长的部分认定为不正确</li>
<li>若两者均为空字符串则准确率为100.0，若前者为空后者非空或前者非空后者为空则准确率为0.0</li>
</ul>
<p>code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">accuracy</span><span style="color: #24292E">(typed, source):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the accuracy (percentage of words typed correctly) of TYPED</span></span>
<span class="line"><span style="color: #032F62">    when compared to the prefix of SOURCE that was typed.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    Arguments:</span></span>
<span class="line"><span style="color: #032F62">        typed: a string that may contain typos</span></span>
<span class="line"><span style="color: #032F62">        source: a string without errors</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">accuracy(&#39;Cute Dog!&#39;, &#39;Cute Dog.&#39;)</span></span>
<span class="line"><span style="color: #032F62">    50.0</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">accuracy(&#39;A Cute Dog!&#39;, &#39;Cute Dog.&#39;)</span></span>
<span class="line"><span style="color: #032F62">    0.0</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">accuracy(&#39;cute Dog.&#39;, &#39;Cute Dog.&#39;)</span></span>
<span class="line"><span style="color: #032F62">    50.0</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">accuracy(&#39;Cute Dog. I say!&#39;, &#39;Cute Dog.&#39;)</span></span>
<span class="line"><span style="color: #032F62">    50.0</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">accuracy(&#39;Cute&#39;, &#39;Cute Dog.&#39;)</span></span>
<span class="line"><span style="color: #032F62">    100.0</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">accuracy(&#39;&#39;, &#39;Cute Dog.&#39;)</span></span>
<span class="line"><span style="color: #032F62">    0.0</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">accuracy(&#39;&#39;, &#39;&#39;)</span></span>
<span class="line"><span style="color: #032F62">    100.0</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    typed_words </span><span style="color: #D73A49">=</span><span style="color: #24292E"> split(typed)</span></span>
<span class="line"><span style="color: #24292E">    source_words </span><span style="color: #D73A49">=</span><span style="color: #24292E"> split(source)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 3</span></span>
<span class="line"><span style="color: #24292E">    cnt </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> t, s </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">zip</span><span style="color: #24292E">(typed_words, source_words):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> t</span><span style="color: #D73A49">==</span><span style="color: #24292E">s:</span></span>
<span class="line"><span style="color: #24292E">            cnt</span><span style="color: #D73A49">+=</span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">len</span><span style="color: #24292E">(typed_words)</span><span style="color: #D73A49">==</span><span style="color: #005CC5">0</span><span style="color: #24292E"> </span><span style="color: #D73A49">and</span><span style="color: #24292E"> </span><span style="color: #005CC5">len</span><span style="color: #24292E">(source_words)</span><span style="color: #D73A49">==</span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">100.0</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">elif</span><span style="color: #24292E"> </span><span style="color: #005CC5">len</span><span style="color: #24292E">(typed_words)</span><span style="color: #D73A49">==</span><span style="color: #005CC5">0</span><span style="color: #24292E"> </span><span style="color: #D73A49">or</span><span style="color: #24292E"> </span><span style="color: #005CC5">len</span><span style="color: #24292E">(source_words)</span><span style="color: #D73A49">==</span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">0.0</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> (cnt</span><span style="color: #D73A49">/</span><span style="color: #005CC5">len</span><span style="color: #24292E">(typed_words))</span><span style="color: #D73A49">*</span><span style="color: #005CC5">100</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 3</span></span></code></pre></div></div></figure>
<p>注意：</p>
<ul>
<li>同时遍历两个列表时，使用zip函数解包，因为原代码实现的是遍历一个包含两个列表的元组</li>
<li>空字符部分特判，因为计算百分比时可能会导致分母为0</li>
<li>计算的是已经输入字符与需要输入字符匹配的字符个数在已经输入字符中的占比，分母是typed_words的长度</li>
</ul>
<h3 id="problem-4">Problem 4</h3>
<p>按照words/min计算打字速度</p>
<p><strong>wpm函数</strong></p>
<p>参数：</p>
<ul>
<li>typed：已经输入的内容</li>
<li>elapsed：总共打字时间（按秒计）</li>
</ul>
<p>思路：</p>
<ul>
<li>wpm的计算是按照字符数来的，单位是每五个字符数，这样可以减少单词长度对结果的影响</li>
<li><span class="math inline">\(wpm =
\frac{\frac{字符数}{5}}{时间(min)}\)</span></li>
</ul>
<p>code:</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">wpm</span><span style="color: #24292E">(typed, elapsed):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the words-per-minute (WPM) of the TYPED string.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    Arguments:</span></span>
<span class="line"><span style="color: #032F62">        typed: an entered string</span></span>
<span class="line"><span style="color: #032F62">        elapsed: an amount of time in seconds</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">wpm(&#39;hello friend hello buddy hello&#39;, 15)</span></span>
<span class="line"><span style="color: #032F62">    24.0</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">wpm(&#39;0123456789&#39;,60)</span></span>
<span class="line"><span style="color: #032F62">    2.0</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">assert</span><span style="color: #24292E"> elapsed </span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;Elapsed time must be positive&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 4</span></span>
<span class="line"><span style="color: #24292E">    length </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">len</span><span style="color: #24292E">(typed)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> (length</span><span style="color: #D73A49">/</span><span style="color: #005CC5">5</span><span style="color: #24292E">)</span><span style="color: #D73A49">/</span><span style="color: #24292E">(elapsed</span><span style="color: #D73A49">/</span><span style="color: #005CC5">60</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 4</span></span></code></pre></div></div></figure>
<p>注意：elapsed单位是秒，wpm使用的时间是分钟</p>
<h2 id="phase-2-autocorrect">Phase 2: Autocorrect</h2>
<p>按下空格触发单词自动纠正，若最近的一个词接近正确词汇但不正确，则会用正确词汇替代</p>
<h3 id="problem-5">Problem 5</h3>
<p>返回一个列表，内部提供了几个接近输入单词的正确单词</p>
<p>参数：</p>
<ul>
<li>typed_word：一个字符串，表示输入的单词</li>
<li>word_list：源单词列表</li>
<li>diff_function：评估单词不同程度的函数</li>
<li>limit：单词能否被更改的阈值</li>
</ul>
<p>思路：</p>
<ul>
<li><p>autocorrect实现的</p>
<ul>
<li>若输入字符已经在word_list中，将会直接返回该字符</li>
<li>否则会返回基于diff函数计算的不同程度最小的单词</li>
<li>若输入单词与word_list中最小的不同程度仍大于limit，则返回输入单词</li>
</ul></li>
<li><p>所有输入单词和word_list中的单词都是小写且没有标点</p></li>
<li><p>若多个单词与输入字符不同程度最小相同，则返回最靠前的</p></li>
<li><p>不同程度可以使用两个单词相同部分长度衡量</p></li>
</ul>
<p>code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">autocorrect</span><span style="color: #24292E">(typed_word, word_list, diff_function, limit):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Returns the element of WORD_LIST that has the smallest difference</span></span>
<span class="line"><span style="color: #032F62">    from TYPED_WORD. If multiple words are tied for the smallest difference,</span></span>
<span class="line"><span style="color: #032F62">    return the one that appears closest to the front of WORD_LIST. If the</span></span>
<span class="line"><span style="color: #032F62">    difference is greater than LIMIT, instead return TYPED_WORD.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    Arguments:</span></span>
<span class="line"><span style="color: #032F62">        typed_word: a string representing a word that may contain typos</span></span>
<span class="line"><span style="color: #032F62">        word_list: a list of strings representing source words</span></span>
<span class="line"><span style="color: #032F62">        diff_function: a function quantifying the difference between two words</span></span>
<span class="line"><span style="color: #032F62">        limit: a number</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">ten_diff = lambda w1, w2, limit: 10 # Always returns 10</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">autocorrect(&quot;hwllo&quot;, [&quot;butter&quot;, &quot;hello&quot;, &quot;potato&quot;], ten_diff, 20)</span></span>
<span class="line"><span style="color: #032F62">    &#39;butter&#39;</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">first_diff = lambda w1, w2, limit: (1 if w1[0] != w2[0] else 0) # Checks for matching first char</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">autocorrect(&quot;tosting&quot;, [&quot;testing&quot;, &quot;asking&quot;, &quot;fasting&quot;], first_diff, 10)</span></span>
<span class="line"><span style="color: #032F62">    &#39;testing&#39;</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 5</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> typed_word </span><span style="color: #D73A49">in</span><span style="color: #24292E"> word_list:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> typed_word</span></span>
<span class="line"><span style="color: #24292E">    word_diff </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [diff_function(typed_word, s, limit) </span><span style="color: #D73A49">for</span><span style="color: #24292E"> s </span><span style="color: #D73A49">in</span><span style="color: #24292E"> word_list]</span></span>
<span class="line"><span style="color: #24292E">    min_diff </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">min</span><span style="color: #24292E">(word_diff)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> min_diff </span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> limit:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> typed_word</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E"> :</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> word_list[word_diff.index(min_diff)]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 5</span></span></code></pre></div></div></figure>
<p>注意：</p>
<ul>
<li>可以使用<code>list.index(&lt;val&gt;)</code>获取列表中某值的下标</li>
</ul>
<h3 id="problem-6">Problem 6</h3>
<p>返回为纠正单词需要修改的字符个数</p>
<p>参数：</p>
<ul>
<li>typed：输入单词</li>
<li>source：目标单词</li>
<li>limit：最多修改字符数</li>
</ul>
<p>思路：</p>
<ul>
<li><p>比较个位字符，若不同则执行更改，记录更改数</p></li>
<li><p>若一边比另一边长，长度的不同也算入更改数</p></li>
<li><p>若更改数比limit打，则返回任何大于limit的数（为了避免多余的计算）</p></li>
<li><p>要求使用递归</p></li>
</ul>
<p>code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">feline_fixes</span><span style="color: #24292E">(typed, source, limit):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;A diff function for autocorrect that determines how many letters</span></span>
<span class="line"><span style="color: #032F62">    in TYPED need to be substituted to create SOURCE, then adds the difference in</span></span>
<span class="line"><span style="color: #032F62">    their lengths and returns the result.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    Arguments:</span></span>
<span class="line"><span style="color: #032F62">        typed: a starting word</span></span>
<span class="line"><span style="color: #032F62">        source: a string representing a desired goal word</span></span>
<span class="line"><span style="color: #032F62">        limit: a number representing an upper bound on the number of chars that must change</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">big_limit = 10</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">feline_fixes(&quot;nice&quot;, &quot;rice&quot;, big_limit)    # Substitute: n -&gt; r</span></span>
<span class="line"><span style="color: #032F62">    1</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">feline_fixes(&quot;range&quot;, &quot;rungs&quot;, big_limit)  # Substitute: a -&gt; u, e -&gt; s</span></span>
<span class="line"><span style="color: #032F62">    2</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">feline_fixes(&quot;pill&quot;, &quot;pillage&quot;, big_limit) # Don&#39;t substitute anything, length difference of 3.</span></span>
<span class="line"><span style="color: #032F62">    3</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">feline_fixes(&quot;roses&quot;, &quot;arose&quot;, big_limit)  # Substitute: r -&gt; a, o -&gt; r, s -&gt; o, e -&gt; s, s -&gt; e</span></span>
<span class="line"><span style="color: #032F62">    5</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">feline_fixes(&quot;rose&quot;, &quot;hello&quot;, big_limit)   # Substitute: r-&gt;h, o-&gt;e, s-&gt;l, e-&gt;l, length difference of 1.</span></span>
<span class="line"><span style="color: #032F62">    5</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 6</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># assert False, &#39;Remove this line&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">compute</span><span style="color: #24292E">(typed_w,source_w,count):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> count </span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> limit:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> limit</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> typed_w </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;&quot;</span><span style="color: #24292E"> </span><span style="color: #D73A49">and</span><span style="color: #24292E"> source_w </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> count</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">elif</span><span style="color: #24292E"> typed_w </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> compute(typed_w,source_w[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:],count</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">elif</span><span style="color: #24292E"> source_w </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> compute(typed_w[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:],source_w,count</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">elif</span><span style="color: #24292E"> typed_w[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]</span><span style="color: #D73A49">==</span><span style="color: #24292E">source_w[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> compute(typed_w[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:],source_w[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:],count)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> compute(typed_w[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:],source_w[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:],count</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> compute(typed,source,</span><span style="color: #005CC5">0</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 6</span></span></code></pre></div></div></figure>
<p>注意：</p>
<ul>
<li>超过limit限制的一律设为limit+1</li>
<li>通过slice来每次递归往后截取一位字符，比较每次截取后的首字符来判断相同与否，不相同让count+1</li>
<li>递归出口为两字符串均被截取成空串，返回计数</li>
<li>长度不同的情况下，已经被截成空串的不再截取，长串继续截取，该情况下直接让count+1</li>
</ul>
<h3 id="problem-7">Problem 7</h3>
<p>返回将输入字符改为目标字符所需要执行的操作次数，操作有以下：</p>
<ul>
<li>添加字符</li>
<li>删除字符</li>
<li>替换字符</li>
</ul>
<p>参数：</p>
<ul>
<li>typed：输入单词</li>
<li>source：目标单词</li>
<li>limit：最多修改字符数</li>
</ul>
<p>思路：</p>
<ul>
<li>比较输入单词与指定单词，寻找不同位置</li>
<li>若需要修改数量大于limit，则返回任何大于limit的值</li>
<li>代码需要使用递归，应需要三个递归调用以及两个递归出口</li>
</ul>
<p>code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">minimum_mewtations</span><span style="color: #24292E">(typed, source, limit):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;A diff function that computes the edit distance from TYPED to SOURCE.</span></span>
<span class="line"><span style="color: #032F62">    This function takes in a string TYPED, a string SOURCE, and a number LIMIT.</span></span>
<span class="line"><span style="color: #032F62">    Arguments:</span></span>
<span class="line"><span style="color: #032F62">        typed: a starting word</span></span>
<span class="line"><span style="color: #032F62">        source: a string representing a desired goal word</span></span>
<span class="line"><span style="color: #032F62">        limit: a number representing an upper bound on the number of edits</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">big_limit = 10</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">minimum_mewtations(&quot;cats&quot;, &quot;scat&quot;, big_limit)       # cats -&gt; scats -&gt; scat</span></span>
<span class="line"><span style="color: #032F62">    2</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">minimum_mewtations(&quot;purng&quot;, &quot;purring&quot;, big_limit)   # purng -&gt; purrng -&gt; purring</span></span>
<span class="line"><span style="color: #032F62">    2</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">minimum_mewtations(&quot;ckiteus&quot;, &quot;kittens&quot;, big_limit) # ckiteus -&gt; kiteus -&gt; kitteus -&gt; kittens</span></span>
<span class="line"><span style="color: #032F62">    3</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># assert False, &#39;Remove this line&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> limit</span><span style="color: #D73A49">&lt;</span><span style="color: #005CC5">0</span><span style="color: #24292E">: </span><span style="color: #6A737D"># Base cases should go here, you may add more base cases as needed.</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #6A737D"># BEGIN</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #6A737D"># END</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># Recursive cases should go below here</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> typed </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;&quot;</span><span style="color: #24292E"> </span><span style="color: #D73A49">and</span><span style="color: #24292E"> source </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;&quot;</span><span style="color: #24292E">: </span><span style="color: #6A737D"># Feel free to remove or add additional cases</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #6A737D"># BEGIN</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #6A737D"># END</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">elif</span><span style="color: #24292E"> typed </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;&quot;</span><span style="color: #24292E"> </span><span style="color: #D73A49">or</span><span style="color: #24292E"> source </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">abs</span><span style="color: #24292E">(</span><span style="color: #005CC5">len</span><span style="color: #24292E">(typed)</span><span style="color: #D73A49">-</span><span style="color: #005CC5">len</span><span style="color: #24292E">(source))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">elif</span><span style="color: #24292E"> typed[</span><span style="color: #005CC5">0</span><span style="color: #24292E">] </span><span style="color: #D73A49">==</span><span style="color: #24292E"> source[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> minimum_mewtations(typed[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:],source[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:],limit)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        add </span><span style="color: #D73A49">=</span><span style="color: #24292E"> minimum_mewtations(typed,source[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:],limit</span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">        remove </span><span style="color: #D73A49">=</span><span style="color: #24292E"> minimum_mewtations(typed[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:],source,limit</span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">        substitute </span><span style="color: #D73A49">=</span><span style="color: #24292E"> minimum_mewtations(typed[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:],source[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:],limit</span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #6A737D"># BEGIN</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">min</span><span style="color: #24292E">(add,remove,substitute)</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #6A737D"># END</span></span></code></pre></div></div></figure>
<p>注意：</p>
<ul>
<li><p>和上一个problem类似，使用递归与slice一位位判断</p></li>
<li><p>三种操作依次递归，并取最小值</p></li>
</ul>
<h2 id="phase-3-multiplayer">Phase 3: Multiplayer</h2>
<p>实现多人对战模式</p>
<h3 id="problem-8">Problem 8</h3>
<p>将玩家输入进度与信息传入多人服务器并返回对应信息</p>
<p><strong>report_progress函数</strong></p>
<p>参数：</p>
<ul>
<li>typed：输入的字符，列表存储</li>
<li>source：需要输入的字符，列表存储</li>
<li>user_id：当前玩家id</li>
<li>upload：上传进度的函数</li>
</ul>
<p>思路：</p>
<ul>
<li>将输入字符与需要输入字符比较，计算输入进度</li>
<li>输入进度指已经输入正确单词与需要输入正确单词的比例（因此，若中间有一个单词打错，后面再正确也不会记录）</li>
<li>函数的返回值是计算的进度</li>
</ul>
<p>code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">report_progress</span><span style="color: #24292E">(typed, source, user_id, upload):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Upload a report of your id and progress so far to the multiplayer server.</span></span>
<span class="line"><span style="color: #032F62">    Returns the progress so far.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    Arguments:</span></span>
<span class="line"><span style="color: #032F62">        typed: a list of the words typed so far</span></span>
<span class="line"><span style="color: #032F62">        source: a list of the words in the typing source</span></span>
<span class="line"><span style="color: #032F62">        user_id: a number representing the id of the current user</span></span>
<span class="line"><span style="color: #032F62">        upload: a function used to upload progress to the multiplayer server</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">print_progress = lambda d: print(&#39;ID:&#39;, d[&#39;id&#39;], &#39;Progress:&#39;, d[&#39;progress&#39;])</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62"># The above function displays progress in the format ID: __, Progress: __</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">print_progress({&#39;id&#39;: 1, &#39;progress&#39;: 0.6})</span></span>
<span class="line"><span style="color: #032F62">    ID: 1 Progress: 0.6</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">typed = [&#39;how&#39;, &#39;are&#39;, &#39;you&#39;]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">source = [&#39;how&#39;, &#39;are&#39;, &#39;you&#39;, &#39;doing&#39;, &#39;today&#39;]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">report_progress(typed, source, 2, print_progress)</span></span>
<span class="line"><span style="color: #032F62">    ID: 2 Progress: 0.6</span></span>
<span class="line"><span style="color: #032F62">    0.6</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">report_progress([&#39;how&#39;, &#39;aree&#39;], source, 3, print_progress)</span></span>
<span class="line"><span style="color: #032F62">    ID: 3 Progress: 0.2</span></span>
<span class="line"><span style="color: #032F62">    0.2</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 8</span></span>
<span class="line"><span style="color: #24292E">    typed_count </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> t,s </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">zip</span><span style="color: #24292E">(typed,source):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> t </span><span style="color: #D73A49">!=</span><span style="color: #24292E"> s:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">break</span></span>
<span class="line"><span style="color: #24292E">        typed_count</span><span style="color: #D73A49">+=</span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">    ratio </span><span style="color: #D73A49">=</span><span style="color: #24292E"> typed_count</span><span style="color: #D73A49">/</span><span style="color: #005CC5">len</span><span style="color: #24292E">(source)</span></span>
<span class="line"><span style="color: #24292E">    upload({</span><span style="color: #032F62">&#39;id&#39;</span><span style="color: #24292E">: user_id, </span><span style="color: #032F62">&#39;progress&#39;</span><span style="color: #24292E">: ratio})</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> ratio</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 8</span></span></code></pre></div></div></figure>
<p>注意：</p>
<ul>
<li>判断是否相等时，若发现不等就需要break结束循环</li>
</ul>
<h3 id="problem-9">Problem 9</h3>
<p>计算两个玩家输入每个单词时的用时差</p>
<p><strong>time_per_word函数</strong></p>
<p>参数：</p>
<ul>
<li>words：按输入顺序排列的单词列表</li>
<li>timestamps_per_player：一个二维列表，记录了每位玩家开始与结束输入每个单词的时间</li>
</ul>
<p><strong>data abstraction：match</strong></p>
<p>参数：</p>
<ul>
<li>words：输入单词组成的单词列表</li>
<li>times：二维列表，记录了每个玩家输入每个单词需要多长时间，如<code>times[i][j]</code>指玩家i输入单词<code>words[j]</code>所花费的时间</li>
</ul>
<p>思路：</p>
<ul>
<li>timestamps_per_player记录的是每个玩家敲每个单词的开始与结束时间</li>
<li>传入match后，时间会自动计算为敲每个单词使用的时间（结束-开始），并存入每个单词key对应的value中</li>
<li>通过get_all_word与get_all_times函数可以返回match中对应的键与值形成的列表</li>
<li>通过get_word与time函数可以返回指定的键与值</li>
</ul>
<p>code:</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">time_per_word</span><span style="color: #24292E">(words, timestamps_per_player):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Given timing data, return a match data abstraction, which contains a</span></span>
<span class="line"><span style="color: #032F62">    list of words and the amount of time each player took to type each word.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    Arguments:</span></span>
<span class="line"><span style="color: #032F62">        words: a list of words, in the order they are typed.</span></span>
<span class="line"><span style="color: #032F62">        timestamps_per_player: A list of lists of timestamps including the time</span></span>
<span class="line"><span style="color: #032F62">                          the player started typing, followed by the time</span></span>
<span class="line"><span style="color: #032F62">                          the player finished typing each word.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">p = [[75, 81, 84, 90, 92], [19, 29, 35, 36, 38]]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">match = time_per_word([&#39;collar&#39;, &#39;plush&#39;, &#39;blush&#39;, &#39;repute&#39;], p)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">get_all_words(match)</span></span>
<span class="line"><span style="color: #032F62">    [&#39;collar&#39;, &#39;plush&#39;, &#39;blush&#39;, &#39;repute&#39;]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">get_all_times(match)</span></span>
<span class="line"><span style="color: #032F62">    [[6, 3, 6, 2], [10, 6, 1, 2]]</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 9</span></span>
<span class="line"><span style="color: #24292E">    times </span><span style="color: #D73A49">=</span><span style="color: #24292E"> []</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> l </span><span style="color: #D73A49">in</span><span style="color: #24292E"> timestamps_per_player:</span></span>
<span class="line"><span style="color: #24292E">        each_times </span><span style="color: #D73A49">=</span><span style="color: #24292E"> []</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">len</span><span style="color: #24292E">(l)):</span></span>
<span class="line"><span style="color: #24292E">            each_times.append(l[i]</span><span style="color: #D73A49">-</span><span style="color: #24292E">l[i</span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">])</span></span>
<span class="line"><span style="color: #24292E">        times.append(each_times)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> match(words,times)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 9</span></span></code></pre></div></div></figure>
<p>注意：</p>
<ul>
<li><p>该函数的作用是通过调用match函数构造该抽象类型</p></li>
<li><p>但match函数需要每个单词的时间差，故需要在该函数中处理输入的时间列表（结束-开始）</p></li>
<li><p>将处理后的列表与传入该函数的单词列表传入match函数并返回获得的抽象类型</p></li>
</ul>
<h3 id="problem-10">Problem 10</h3>
<p>返回每个单词哪位玩家敲得块</p>
<p><strong>fastest_words函数</strong></p>
<p>参数：</p>
<ul>
<li>match：match函数中获得的抽象数据类型</li>
</ul>
<p>思路：</p>
<ul>
<li>比较多个玩家输入每个字符时间，选择输入时间最少的</li>
<li>返回的列表中存储了每个玩家输入最快的单词组成的列表</li>
<li>若多个玩家输入时间相同，则取编号更小的玩家</li>
</ul>
<p>code:</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">fastest_words</span><span style="color: #24292E">(match):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return a list of lists of which words each player typed fastest.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    Arguments:</span></span>
<span class="line"><span style="color: #032F62">        match: a match data abstraction as returned by time_per_word.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">p0 = [5, 1, 3]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">p1 = [4, 1, 6]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">fastest_words(match([&#39;Just&#39;, &#39;have&#39;, &#39;fun&#39;], [p0, p1]))</span></span>
<span class="line"><span style="color: #032F62">    [[&#39;have&#39;, &#39;fun&#39;], [&#39;Just&#39;]]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">p0  # input lists should not be mutated</span></span>
<span class="line"><span style="color: #032F62">    [5, 1, 3]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">p1</span></span>
<span class="line"><span style="color: #032F62">    [4, 1, 6]</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    player_indices </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">len</span><span style="color: #24292E">(get_all_times(match)))  </span><span style="color: #6A737D"># contains an *index* for each player</span></span>
<span class="line"><span style="color: #24292E">    word_indices </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">len</span><span style="color: #24292E">(get_all_words(match)))    </span><span style="color: #6A737D"># contains an *index* for each word</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 10</span></span>
<span class="line"><span style="color: #24292E">    result </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [[] </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> player_indices]</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> word_indices:</span></span>
<span class="line"><span style="color: #24292E">        min_player </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">for</span><span style="color: #24292E"> j </span><span style="color: #D73A49">in</span><span style="color: #24292E"> player_indices:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">if</span><span style="color: #24292E"> min_player </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E"> </span><span style="color: #D73A49">or</span><span style="color: #24292E"> time(match, j, i) </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E"> time(match, min_player, i):</span></span>
<span class="line"><span style="color: #24292E">                min_player </span><span style="color: #D73A49">=</span><span style="color: #24292E"> j</span></span>
<span class="line"><span style="color: #24292E">        result[min_player].append(get_word(match,i))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> result</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 10</span></span></code></pre></div></div></figure>
<p>注意：</p>
<ul>
<li>列表中创建多个列表要用for表达式<code>[[] for _ in player_indices]</code></li>
<li>result列表中下标表示玩家，对应元素表示该玩家最快的单词组成的列表</li>
<li>我们首先遍历单词，然后遍历玩家找出时间最小的玩家，并将对应单词存入该玩家对应列表</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/Project1%20Hog/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/Project1%20Hog/" class="post-title-link" itemprop="url">【CS61A】Project1-Hog</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-03 19:02:51" itemprop="dateCreated datePublished" datetime="2025-03-03T19:02:51+08:00">2025-03-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:53:21" itemprop="dateModified" datetime="2025-07-31T17:53:21+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>9.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>18 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="project1-hog">Project1-Hog</h1>
<p>实现一个掷骰子游戏</p>
<h2 id="规则">规则</h2>
<p>两位玩家依次掷任意数量(不多于10个)骰子，点数之和先达到GOAL的胜利。</p>
<ul>
<li>Sow Sad: 若其中一个骰子点数为一，则该玩家此轮得分为1</li>
<li>Boar Brawl:
玩家可以选择不掷骰子，得分为<code>max(1,3*abs(对手得分十位数-自己得分个位数))</code>，位数不够补零。</li>
<li>Sus Fuss:
若一局结束后，玩家点数数值有三或四个因数(包括1和点数本身)，该玩家点数会变为比当前数值大的最近的一个质数</li>
</ul>
<h2 id="phase-1-rules-of-the-game">Phase 1: Rules of the Game</h2>
<p>模拟游戏的进行</p>
<h3 id="problem-0">Problem 0</h3>
<p>熟悉dice.py，了解骰子的生成</p>
<ul>
<li>make_fair_dice(<SIDE>)用于生成每面概率相等的SIDE面骰子</li>
<li>make_test_dice(<range>)用于测试循环投出一系列指定值</li>
</ul>
<p>掷出一次骰子的方法：调用生成骰子赋值给的变量<code>e.g. six_sided()</code></p>
<h3 id="problem-1">Problem 1</h3>
<p>实现掷骰子函数，并实现规则Sow Sad</p>
<blockquote>
<p>在定义函数时，若出现形参后已经赋值的情况，该值代表该函数不传入参数时形参默认值</p>
<p>如<code>def roll_dice(num_rolls, dice=six_sided)</code>，若不传入dice参数则默认为six_sided</p>
</blockquote>
<p><strong>roll_dice()函数：</strong></p>
<p>参数：</p>
<ul>
<li>num_rolls指掷骰子次数</li>
<li>dice指传入的骰子（默认值为六面骰子）</li>
</ul>
<p>理解：</p>
<ul>
<li>该函数返回的是num_roll次结果之和，若其中有1则返回1</li>
<li>若上次调用函数掷骰子次数少于掷骰子次数，则下次掷骰子时会接着上次开始而非从头开始</li>
<li>在循环中return语句会结束一个循环</li>
</ul>
<p>My code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">roll_dice</span><span style="color: #24292E">(num_rolls, dice</span><span style="color: #D73A49">=</span><span style="color: #24292E">six_sided):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Simulate rolling the DICE exactly NUM_ROLLS &gt; 0 times. Return the sum of</span></span>
<span class="line"><span style="color: #032F62">    the outcomes unless any of the outcomes is 1. In that case, return 1.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    num_rolls:  The number of dice rolls that will be made.</span></span>
<span class="line"><span style="color: #032F62">    dice:       A function that simulates a single dice roll outcome. Defaults to the six sided dice.</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># These assert statements ensure that num_rolls is a positive integer.</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">assert</span><span style="color: #24292E"> </span><span style="color: #005CC5">type</span><span style="color: #24292E">(num_rolls) </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #005CC5">int</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;num_rolls must be an integer.&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">assert</span><span style="color: #24292E"> num_rolls </span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;Must roll at least once.&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 1</span></span>
<span class="line"><span style="color: #24292E">    total </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">    flag </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(num_rolls):</span></span>
<span class="line"><span style="color: #24292E">        temp </span><span style="color: #D73A49">=</span><span style="color: #24292E"> dice()</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> temp</span><span style="color: #D73A49">==</span><span style="color: #005CC5">1</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            flag </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">        total </span><span style="color: #D73A49">+=</span><span style="color: #24292E"> temp</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> flag:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> total</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 1</span></span></code></pre></div></div></figure>
<h3 id="problem-2">Problem 2</h3>
<p>实现规则Boar Brawl</p>
<p><strong>boar_brawl()函数：</strong></p>
<p>参数：</p>
<ul>
<li>player_score：自己的分数</li>
<li>opponent_score：对手的分数</li>
</ul>
<p>理解：</p>
<ul>
<li>获取自己分数的个位数与对手分数的十位数</li>
<li>相减并取绝对值后乘三</li>
<li>若小于1则输出1，否则输出计算结果</li>
</ul>
<p>My code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">boar_brawl</span><span style="color: #24292E">(player_score, opponent_score):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the points scored by rolling 0 dice according to Boar Brawl.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    player_score:     The total score of the current player.</span></span>
<span class="line"><span style="color: #032F62">    opponent_score:   The total score of the other player.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 2</span></span>
<span class="line"><span style="color: #24292E">    player_one </span><span style="color: #D73A49">=</span><span style="color: #24292E"> player_score</span><span style="color: #D73A49">%</span><span style="color: #005CC5">10</span></span>
<span class="line"><span style="color: #24292E">    opponent_ten </span><span style="color: #D73A49">=</span><span style="color: #24292E"> opponent_score</span><span style="color: #D73A49">%</span><span style="color: #005CC5">100</span><span style="color: #D73A49">//</span><span style="color: #005CC5">10</span></span>
<span class="line"><span style="color: #24292E">    result </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">3</span><span style="color: #D73A49">*</span><span style="color: #005CC5">abs</span><span style="color: #24292E">(opponent_ten</span><span style="color: #D73A49">-</span><span style="color: #24292E">player_one)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> result</span><span style="color: #D73A49">&gt;=</span><span style="color: #005CC5">1</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> result</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 2</span></span></code></pre></div></div></figure>
<p><strong>注意：传入的参数不一定是十位数，需要进行一些处理</strong></p>
<h3 id="problem-3">Problem 3</h3>
<p>实现函数，将前两个规则结合，输出正确结果</p>
<p><strong>take_turn()函数：</strong></p>
<p>参数：</p>
<ul>
<li>num_rolls：掷骰子次数</li>
<li>player_score：自己的分数</li>
<li>opponent_score：对手的分数</li>
<li>dice：使用的骰子</li>
</ul>
<p>理解：</p>
<ul>
<li>若num_rolls&gt;0，则按照正常规则进行，获得本轮掷骰点数之和</li>
<li>若num_rolls=0，即不掷骰子，等同于选择使用Boar
Brawl规则，执行该函数</li>
</ul>
<p>My code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">take_turn</span><span style="color: #24292E">(num_rolls, player_score, opponent_score, dice</span><span style="color: #D73A49">=</span><span style="color: #24292E">six_sided):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the points scored on a turn rolling NUM_ROLLS dice when the</span></span>
<span class="line"><span style="color: #032F62">    player has PLAYER_SCORE points and the opponent has OPPONENT_SCORE points.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    num_rolls:       The number of dice rolls that will be made.</span></span>
<span class="line"><span style="color: #032F62">    player_score:    The total score of the current player.</span></span>
<span class="line"><span style="color: #032F62">    opponent_score:  The total score of the other player.</span></span>
<span class="line"><span style="color: #032F62">    dice:            A function that simulates a single dice roll outcome.</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># Leave these assert statements here; they help check for errors.</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">assert</span><span style="color: #24292E"> </span><span style="color: #005CC5">type</span><span style="color: #24292E">(num_rolls) </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #005CC5">int</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;num_rolls must be an integer.&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">assert</span><span style="color: #24292E"> num_rolls </span><span style="color: #D73A49">&gt;=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;Cannot roll a negative number of dice in take_turn.&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">assert</span><span style="color: #24292E"> num_rolls </span><span style="color: #D73A49">&lt;=</span><span style="color: #24292E"> </span><span style="color: #005CC5">10</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;Cannot roll more than 10 dice.&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 3</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> num_rolls</span><span style="color: #D73A49">==</span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> boar_brawl(player_score,opponent_score)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> roll_dice(num_rolls,dice)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 3</span></span></code></pre></div></div></figure>
<h3 id="problem-4">Problem 4</h3>
<p>实现Sus Fuss规则</p>
<p><strong>num_factors()函数</strong>：</p>
<p>参数：</p>
<ul>
<li>n：要计算的数n</li>
</ul>
<p>理解：</p>
<ul>
<li>返回数n的因数个数</li>
<li>1和n本身也算进去</li>
</ul>
<p>My code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">num_factors</span><span style="color: #24292E">(n):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the number of factors of N, including 1 and N itself.&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 4</span></span>
<span class="line"><span style="color: #24292E">    total </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">1</span><span style="color: #24292E">,n</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> n</span><span style="color: #D73A49">%</span><span style="color: #24292E">i</span><span style="color: #D73A49">==</span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            total</span><span style="color: #D73A49">+=</span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> total</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 4</span></span></code></pre></div></div></figure>
<p><strong>sus_points()函数</strong>：</p>
<p>参数：</p>
<ul>
<li>score：某玩家的分数</li>
</ul>
<p>理解：</p>
<ul>
<li>该函数用于更新玩家在Sus Fuss规则下新的分数</li>
<li>即用于判断符合条件下大于该分数数值的下一个质数</li>
<li>若该数值不符合条件，则返回本身</li>
</ul>
<p>My code:</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">sus_points</span><span style="color: #24292E">(score):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the new score of a player taking into account the Sus Fuss rule.&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 4</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> num_factors(score)</span><span style="color: #D73A49">==</span><span style="color: #005CC5">3</span><span style="color: #24292E"> </span><span style="color: #D73A49">or</span><span style="color: #24292E"> num_factors(score)</span><span style="color: #D73A49">==</span><span style="color: #005CC5">4</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">while</span><span style="color: #24292E"> </span><span style="color: #005CC5">True</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            score</span><span style="color: #D73A49">+=</span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">if</span><span style="color: #24292E"> is_prime(score):</span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #D73A49">return</span><span style="color: #24292E"> score</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> score</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 4</span></span></code></pre></div></div></figure>
<p><strong>sus_update()函数</strong>：</p>
<p>参数：</p>
<ul>
<li>num_rolls：掷骰子次数</li>
<li>player_score：自己的分数</li>
<li>opponent_score：对手的分数</li>
<li>dice：使用的骰子</li>
</ul>
<p>理解：</p>
<ul>
<li>用于输出num_rolls次掷骰子后，考虑以上三种规则后的点数之和</li>
<li>现根据take_turn()函数求出满足前两个规则的本轮分数之和，并累加到当前分数上</li>
<li>再判断此时分数是否满足第三个规则，进行相应分数改动</li>
</ul>
<p>My code:</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">sus_update</span><span style="color: #24292E">(num_rolls, player_score, opponent_score, dice</span><span style="color: #D73A49">=</span><span style="color: #24292E">six_sided):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the total score of a player who starts their turn with</span></span>
<span class="line"><span style="color: #032F62">    PLAYER_SCORE and then rolls NUM_ROLLS DICE, *including* Sus Fuss.</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 4</span></span>
<span class="line"><span style="color: #24292E">    score </span><span style="color: #D73A49">=</span><span style="color: #24292E"> player_score </span><span style="color: #D73A49">+</span><span style="color: #24292E"> take_turn(num_rolls, player_score, opponent_score, dice)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> sus_points(score)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 4</span></span></code></pre></div></div></figure>
<h3 id="problem-5">Problem 5</h3>
<p>完整实现游戏模拟</p>
<p><strong>play()函数</strong>：</p>
<p>参数：</p>
<ul>
<li>strategy0：player0使用的策略</li>
<li>strategy1：player1使用的策略</li>
<li>update：使用的更新函数（有无sus）</li>
<li>score0：player0的起始分数</li>
<li>score1：player1的起始分数</li>
<li>dice：使用的骰子</li>
<li>goal：实现游戏结束的数值</li>
</ul>
<p>理解：</p>
<ul>
<li>strategy指的是玩家掷骰子数量</li>
<li>strategy函数传入自己与对手的分数，根据两者分数得出下次掷骰子数量</li>
<li>使用传入的update函数来决定分数改变策略（是否采用sus fuss规则）</li>
</ul>
<p>My code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">play</span><span style="color: #24292E">(strategy0, strategy1, update,</span></span>
<span class="line"><span style="color: #24292E">         score0</span><span style="color: #D73A49">=</span><span style="color: #005CC5">0</span><span style="color: #24292E">, score1</span><span style="color: #D73A49">=</span><span style="color: #005CC5">0</span><span style="color: #24292E">, dice</span><span style="color: #D73A49">=</span><span style="color: #24292E">six_sided, goal</span><span style="color: #D73A49">=</span><span style="color: #005CC5">GOAL</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Simulate a game and return the final scores of both players, with</span></span>
<span class="line"><span style="color: #032F62">    Player 0&#39;s score first and Player 1&#39;s score second.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    E.g., play(always_roll_5, always_roll_5, sus_update) simulates a game in</span></span>
<span class="line"><span style="color: #032F62">    which both players always choose to roll 5 dice on every turn and the Sus</span></span>
<span class="line"><span style="color: #032F62">    Fuss rule is in effect.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    A strategy function, such as always_roll_5, takes the current player&#39;s</span></span>
<span class="line"><span style="color: #032F62">    score and their opponent&#39;s score and returns the number of dice the current</span></span>
<span class="line"><span style="color: #032F62">    player chooses to roll.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    An update function, such as sus_update or simple_update, takes the number</span></span>
<span class="line"><span style="color: #032F62">    of dice to roll, the current player&#39;s score, the opponent&#39;s score, and the</span></span>
<span class="line"><span style="color: #032F62">    dice function used to simulate rolling dice. It returns the updated score</span></span>
<span class="line"><span style="color: #032F62">    of the current player after they take their turn.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    strategy0: The strategy for player0.</span></span>
<span class="line"><span style="color: #032F62">    strategy1: The strategy for player1.</span></span>
<span class="line"><span style="color: #032F62">    update:    The update function (used for both players).</span></span>
<span class="line"><span style="color: #032F62">    score0:    Starting score for Player 0</span></span>
<span class="line"><span style="color: #032F62">    score1:    Starting score for Player 1</span></span>
<span class="line"><span style="color: #032F62">    dice:      A function of zero arguments that simulates a dice roll.</span></span>
<span class="line"><span style="color: #032F62">    goal:      The game ends and someone wins when this score is reached.</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    who </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E">  </span><span style="color: #6A737D"># Who is about to take a turn, 0 (first) or 1 (second)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 5</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">while</span><span style="color: #24292E"> score0</span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">goal </span><span style="color: #D73A49">and</span><span style="color: #24292E"> score1 </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E"> goal:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> who</span><span style="color: #D73A49">==</span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            score0 </span><span style="color: #D73A49">=</span><span style="color: #24292E"> update(strategy0(score0, score1), score0, score1, dice)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            score1 </span><span style="color: #D73A49">=</span><span style="color: #24292E"> update(strategy1(score1, score0), score1, score0, dice)</span></span>
<span class="line"><span style="color: #24292E">        who </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span><span style="color: #24292E"> </span><span style="color: #D73A49">-</span><span style="color: #24292E"> who</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 5</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> score0, score1</span></span></code></pre></div></div></figure>
<h2 id="phase-2-strategies">Phase 2: Strategies</h2>
<p>这部分将会根据自己与对手的分数生成每轮玩家的掷骰数（0-10）</p>
<h3 id="problem-6">Problem 6</h3>
<p>返回一个函数，获取自己与对手分数并输出指定骰子个数</p>
<p>理解：</p>
<ul>
<li>返回的是函数，有两个参数：自己与对手分数</li>
<li>无论两者分数多少，返回的总是一开始传入的指定骰子个数</li>
</ul>
<p>My code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">always_roll</span><span style="color: #24292E">(n):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return a player strategy that always rolls N dice.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    A player strategy is a function that takes two total scores as arguments</span></span>
<span class="line"><span style="color: #032F62">    (the current player&#39;s score, and the opponent&#39;s score), and returns a</span></span>
<span class="line"><span style="color: #032F62">    number of dice that the current player will roll this turn.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">strategy = always_roll(3)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">strategy(0, 0)</span></span>
<span class="line"><span style="color: #032F62">    3</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">strategy(99, 99)</span></span>
<span class="line"><span style="color: #032F62">    3</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">assert</span><span style="color: #24292E"> n </span><span style="color: #D73A49">&gt;=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E"> </span><span style="color: #D73A49">and</span><span style="color: #24292E"> n </span><span style="color: #D73A49">&lt;=</span><span style="color: #24292E"> </span><span style="color: #005CC5">10</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 6</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">lambda</span><span style="color: #24292E"> x,y: n</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 6</span></span></code></pre></div></div></figure>
<h3 id="problem-7">Problem 7</h3>
<p>判断每种分数组合是否都有一种对应的掷骰个数（分数组合指一种自己与对手的分数）</p>
<p><strong>is_always_roll()函数：</strong></p>
<p>参数：</p>
<ul>
<li>strategy：掷骰策略</li>
<li>goal：玩家胜利要达到的目标分数</li>
</ul>
<p>理解：</p>
<ul>
<li>自己与对手的得分在胜利之前可能性均有100种（0-99），故可能性组合有10000种</li>
<li>该函数实现了判断每种可能性组合下返回的掷骰数是否相同</li>
<li>goal不一定是100</li>
</ul>
<p>My code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">is_always_roll</span><span style="color: #24292E">(strategy, goal</span><span style="color: #D73A49">=</span><span style="color: #005CC5">GOAL</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return whether STRATEGY always chooses the same number of dice to roll</span></span>
<span class="line"><span style="color: #032F62">    given a game that goes to GOAL points.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">is_always_roll(always_roll_5)</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">is_always_roll(always_roll(3))</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">is_always_roll(catch_up)</span></span>
<span class="line"><span style="color: #032F62">    False</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 7</span></span>
<span class="line"><span style="color: #24292E">    num </span><span style="color: #D73A49">=</span><span style="color: #24292E"> strategy(</span><span style="color: #005CC5">0</span><span style="color: #24292E">,</span><span style="color: #005CC5">0</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">0</span><span style="color: #24292E">,goal):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">for</span><span style="color: #24292E"> j </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">0</span><span style="color: #24292E">,goal):</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">if</span><span style="color: #24292E"> strategy(i,j)</span><span style="color: #D73A49">!=</span><span style="color: #24292E">num:</span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">False</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">True</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 7</span></span></code></pre></div></div></figure>
<h3 id="problem-8">Problem 8</h3>
<p>返回一个函数，用来调用n次掷骰函数，并返回这n次掷骰得到的值之和的平均值</p>
<h4 id="语法特性args">语法特性：*args</h4>
<p>*args参数允许函数接受任意数量的位置参数，以元组形式传入</p>
<p>args可以改为其他名称，*必须有</p>
<p>应用：</p>
<ol type="1">
<li>定义的函数接受不定数量位置参数时</li>
<li>编写高阶函数（higher-order
function）时，传递参数给内部的定义的函数</li>
</ol>
<p><strong>make_averaged()函数</strong></p>
<p>参数：</p>
<ul>
<li>original_function：调用的掷骰函数</li>
<li>times_called：调用次数</li>
</ul>
<p>理解：</p>
<ul>
<li>函数需要做到执行n次掷骰函数，并将返回值累加，最后求这n次和的平均值</li>
<li>在内联函数中使用了*args来表示若干参数，与调入的掷骰函数参数数量一致</li>
</ul>
<p>My code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">make_averaged</span><span style="color: #24292E">(original_function, times_called</span><span style="color: #D73A49">=</span><span style="color: #005CC5">1000</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return a function that returns the average value of ORIGINAL_FUNCTION</span></span>
<span class="line"><span style="color: #032F62">    called TIMES_CALLED times.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    To implement this function, you will have to use *args syntax.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">dice = make_test_dice(4, 2, 5, 1)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">averaged_dice = make_averaged(roll_dice, 40)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">averaged_dice(1, dice)  # The avg of 10 4&#39;s, 10 2&#39;s, 10 5&#39;s, and 10 1&#39;s</span></span>
<span class="line"><span style="color: #032F62">    3.0</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 8</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">average_cal</span><span style="color: #24292E">(</span><span style="color: #D73A49">*</span><span style="color: #24292E">args):</span></span>
<span class="line"><span style="color: #24292E">        suma </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(times_called):</span></span>
<span class="line"><span style="color: #24292E">            suma</span><span style="color: #D73A49">+=</span><span style="color: #24292E">original_function(</span><span style="color: #D73A49">*</span><span style="color: #24292E">args)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> suma</span><span style="color: #D73A49">/</span><span style="color: #24292E">times_called</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> average_cal</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 8</span></span></code></pre></div></div></figure>
<h3 id="problem-9">Problem 9</h3>
<p>实现函数，枚举掷骰次数（1-10），看哪次的分数平均值最大</p>
<p><strong>max_scoring_num_rolls()函数</strong></p>
<p>参数：</p>
<ul>
<li>dice：使用的骰子</li>
<li>times_called：调用次数</li>
</ul>
<p>理解</p>
<ul>
<li>遍历掷骰次数，调用make_averaged函数计算平均值，取1-10掷骰次数中平均值最大值</li>
<li>当平均值相等时取更小的</li>
</ul>
<p>My code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">max_scoring_num_rolls</span><span style="color: #24292E">(dice</span><span style="color: #D73A49">=</span><span style="color: #24292E">six_sided, times_called</span><span style="color: #D73A49">=</span><span style="color: #005CC5">1000</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the number of dice (1 to 10) that gives the maximum average score for a turn.</span></span>
<span class="line"><span style="color: #032F62">    Assume that the dice always return positive outcomes.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">dice = make_test_dice(1, 6)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">max_scoring_num_rolls(dice)</span></span>
<span class="line"><span style="color: #032F62">    1</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 9</span></span>
<span class="line"><span style="color: #24292E">    maxi </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">    maxc </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">11</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">        temp </span><span style="color: #D73A49">=</span><span style="color: #24292E"> make_averaged(roll_dice,times_called)(i,dice)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> temp </span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> maxc:</span></span>
<span class="line"><span style="color: #24292E">            maxc </span><span style="color: #D73A49">=</span><span style="color: #24292E"> temp</span></span>
<span class="line"><span style="color: #24292E">            maxi </span><span style="color: #D73A49">=</span><span style="color: #24292E"> i</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> maxi</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 9</span></span></code></pre></div></div></figure>
<h3 id="problem-10">Problem 10</h3>
<p>采用<em>Boar
Brawl</em>规则，若roll出0时根据该规则得到的分数比threshold大，返回0，否则返回掷骰次数</p>
<p><strong>boar_strategy()函数 </strong></p>
<p>参数：</p>
<ul>
<li>score：自己的分数</li>
<li>opponent_score：对手的分数</li>
<li>threshold：阈值分数，若采用boar
brawl得到的分数大于它则返回掷骰0次</li>
<li>num_rolls：掷骰次数</li>
</ul>
<p>理解：</p>
<ul>
<li>boar brawl规则是在掷骰0次下的特殊规则</li>
<li>若采用该规则策略获得的分数要比正常掷骰获得的分数更高，就采用该策略（返回掷骰次数0次）</li>
<li>否则按正常掷骰次数掷骰</li>
</ul>
<p>My code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">boar_strategy</span><span style="color: #24292E">(score, opponent_score, threshold</span><span style="color: #D73A49">=</span><span style="color: #005CC5">11</span><span style="color: #24292E">, num_rolls</span><span style="color: #D73A49">=</span><span style="color: #005CC5">6</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;This strategy returns 0 dice if Boar Brawl gives at least THRESHOLD</span></span>
<span class="line"><span style="color: #032F62">    points, and returns NUM_ROLLS otherwise. Ignore score and Sus Fuss.</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 10</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> boar_brawl(score,opponent_score)</span><span style="color: #D73A49">&gt;=</span><span style="color: #24292E">threshold: </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> num_rolls  </span><span style="color: #6A737D"># Remove this line once implemented.</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 10</span></span></code></pre></div></div></figure>
<h3 id="problem-11">Problem 11</h3>
<p>采用<em>Sus Fuss</em>规则，若roll出0时根据该规则与<em>Boar
Brawl</em>规则得到的分数与起始分数差值比threshold大，返回0，否则返回掷骰次数</p>
<p><strong>sus_strategy()函数</strong></p>
<p>参数：</p>
<ul>
<li>score：自己的分数</li>
<li>opponent_score：对手的分数</li>
<li>threshold：阈值分数，若采用boar
brawl得到的分数大于它则返回掷骰0次</li>
<li>num_rolls：掷骰次数</li>
</ul>
<p>理解：</p>
<ul>
<li>即在boar brawl规则下采用sus fuss规则得到分数</li>
<li>若采用该规则策略获得的分数要比正常掷骰获得的分数更高，就采用该策略（返回掷骰次数0次）</li>
<li>否则按正常掷骰次数掷骰</li>
</ul>
<p>My code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">sus_strategy</span><span style="color: #24292E">(score, opponent_score, threshold</span><span style="color: #D73A49">=</span><span style="color: #005CC5">11</span><span style="color: #24292E">, num_rolls</span><span style="color: #D73A49">=</span><span style="color: #005CC5">6</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;This strategy returns 0 dice when your score would increase by at least threshold.&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 11</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> sus_update(</span><span style="color: #005CC5">0</span><span style="color: #24292E">,score,opponent_score) </span><span style="color: #D73A49">-</span><span style="color: #24292E"> score </span><span style="color: #D73A49">&gt;=</span><span style="color: #24292E">threshold: </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> num_rolls  </span><span style="color: #6A737D"># Remove this line once implemented.</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 11</span></span></code></pre></div></div></figure>
<h3 id="problem-12">Problem 12</h3>
<p>结合上述所有策略与自己的策略，实现最终策略</p>
<p>My code：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">final_strategy</span><span style="color: #24292E">(score, opponent_score):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Write a brief description of your final strategy.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    *** YOUR DESCRIPTION HERE ***</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># BEGIN PROBLEM 12</span></span>
<span class="line"><span style="color: #24292E">    threshold </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">GOAL</span><span style="color: #D73A49">-</span><span style="color: #24292E">score</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> score</span><span style="color: #D73A49">&gt;</span><span style="color: #005CC5">80</span><span style="color: #24292E"> </span><span style="color: #D73A49">and</span><span style="color: #24292E"> score</span><span style="color: #D73A49">-</span><span style="color: #24292E">opponent_score</span><span style="color: #D73A49">&gt;</span><span style="color: #005CC5">20</span><span style="color: #24292E">: </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">6</span><span style="color: #24292E">  </span><span style="color: #6A737D"># Remove this line once implemented.</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># END PROBLEM 12</span></span></code></pre></div></div></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%90%9C%E7%B4%A2/BFS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%90%9C%E7%B4%A2/BFS/" class="post-title-link" itemprop="url">【算法】BFS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-01 11:30:53" itemprop="dateCreated datePublished" datetime="2025-03-01T11:30:53+08:00">2025-03-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-12-17 22:12:10" itemprop="dateModified" datetime="2025-12-17T22:12:10+08:00">2025-12-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">算法与数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%90%9C%E7%B4%A2/" itemprop="url" rel="index"><span itemprop="name">搜索</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>6.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>11 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>介绍了广度优先搜索</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%90%9C%E7%B4%A2/BFS/">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%90%9C%E7%B4%A2/DFS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%90%9C%E7%B4%A2/DFS/" class="post-title-link" itemprop="url">【算法】DFS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-01 11:29:57" itemprop="dateCreated datePublished" datetime="2025-03-01T11:29:57+08:00">2025-03-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-12-17 22:12:45" itemprop="dateModified" datetime="2025-12-17T22:12:45+08:00">2025-12-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">算法与数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%90%9C%E7%B4%A2/" itemprop="url" rel="index"><span itemprop="name">搜索</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>5.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>介绍了深度优先搜索</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%90%9C%E7%B4%A2/DFS/">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/(%E6%88%96%E8%AE%B8%E6%98%AF)%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/(%E6%88%96%E8%AE%B8%E6%98%AF)%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/" class="post-title-link" itemprop="url">【算法】前缀和与差分</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-01 10:53:46" itemprop="dateCreated datePublished" datetime="2025-03-01T10:53:46+08:00">2025-03-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-12-17 22:10:53" itemprop="dateModified" datetime="2025-12-17T22:10:53+08:00">2025-12-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">算法与数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%88%96%E8%AE%B8%E6%98%AF-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">(或许是)基础算法</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>5.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>介绍了前缀和与差分的原理与用法，用于预处理求和问题</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/(%E6%88%96%E8%AE%B8%E6%98%AF)%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/CS61A%20Containers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/CS61A%20Containers/" class="post-title-link" itemprop="url">【CS61A】CS61A——Containers</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-02-25 16:44:27" itemprop="dateCreated datePublished" datetime="2025-02-25T16:44:27+08:00">2025-02-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:48:58" itemprop="dateModified" datetime="2025-07-31T17:48:58+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="containers">Containers</h1>
<h2 id="slicing">Slicing</h2>
<p>切片可以简洁的获取列表中的子列表，实质是创建了新的列表而不影响原始列表</p>
<p>如列表odds = [3,5,7,9,11]</p>
<ul>
<li>odds[1:3] -&gt; [5,7] 默认也是包括起始值不包括结束值</li>
<li>odds[:3] -&gt; [3,5,7] 省略开头将从列表头开始算起</li>
<li>odds[1:] -&gt; [5,7,9,11] 省略结尾将覆盖至列表尾</li>
</ul>
<h2 id="内置函数">内置函数</h2>
<h3 id="sum">sum</h3>
<p><code>sum(&lt;可迭代对象&gt;, [起始值])</code></p>
<p>返回所有可迭代元素和并加上起始值，起始值默认为0</p>
<p>sum还可以实现列表相加：<code>sum([[2,3],[4]],[])</code>
<strong>注意起始值类型要和前面相同</strong></p>
<h3 id="max">max</h3>
<p><code>max(&lt;可迭代对象&gt;, [键函数])</code></p>
<p><code>max(a,b,c,..., [键函数])</code></p>
<p>返回对象中的最大值或返回若干值中的最大值</p>
<p>键函数：考虑对每个元素执行键函数并根据返回值比较大小（返回原始值）</p>
<p>e.g. <code>max(range(10), key=lambda x: 7-(x-4)*(x-2))</code></p>
<h3 id="all">all</h3>
<p><code>all(&lt;可迭代对象&gt;)</code></p>
<p>对每个元素执行bool(x)操作，若所有元素都返回True则返回True，否则返回False，空列表返回True</p>
<p>e.g. <code>all([x&lt;5 for x in range(5)])</code> 返回True</p>
<h3 id="len">len</h3>
<p><code>len(&lt;可迭代对象&gt;)</code></p>
<p>获取某个序列长度</p>
<h2 id="有关string">有关string</h2>
<p>string可以用于表示：数据、语言、程序</p>
<h3 id="表示字符串">表示字符串</h3>
<ul>
<li>使用单引号</li>
<li>使用双引号</li>
<li>使用一对连续的三个双引号：可以跨行</li>
</ul>
<h3 id="string也是一种sequence">string也是一种sequence</h3>
<p>求解长度与选择元素与列表相同</p>
<p><strong>获取到的string中的元素本身也是一个字符串，但只有它本身一个元素</strong></p>
<p>in与not in可以在字符串中寻找连续字符</p>
<p>e.g. <code>'here' in 'where's waldo?</code> 返回True</p>
<h2 id="dictionary">Dictionary</h2>
<p>dictionary用于存储键值对，使用花括号和冒号分隔键值</p>
<p>创建：</p>
<p><code>numerals = &#123;'I':1, 'V':5, 'X':10&#125;</code></p>
<p>可以用数字，字符串当键值，列表或字典 当值</p>
<p><strong>注意：键本身不能是列表或字典，键不能重复</strong></p>
<p>查找：</p>
<p>输入对应的键来查找对应的值，但不能通过值查找键</p>
<p><code>numerals['V'] &gt;&gt;&gt; 5</code></p>
<p>遍历：</p>
<p>dictionary是键的序列，通过list()创建列表可以获得所有的键，因此可以用for循环遍历所有的键</p>
<p>使用<code>numerals.value()</code>获得字典中所有的值，存储在一个序列中（非列表）</p>
<h2 id="dictionary-comprehensions">Dictionary Comprehensions</h2>
<p>可以使用表达式来创建列表</p>
<p>格式：<code>&#123;&lt;key exp&gt;: &lt;val exp&gt; for &lt;name&gt; in &lt;iter exp&gt; if &lt;filter exp&gt;&#125;</code></p>
<p>过程：</p>
<ol type="1">
<li>添加以当前作用域为父作用域的新作用域</li>
<li>建立一个空的result字典存储表达式的值</li>
<li>对每个<iter exp>中的元素：
<ol type="1">
<li>在新作用域中将<name>绑定到每一个元素</li>
<li>若<filter exp>为真，则将<key exp>与<val exp>配对并添加到result字典中</li>
</ol></li>
</ol>
<p>e.g.</p>
<p><code>&#123;x*x: x for x in [1,2,3,4,5] if x&gt;2&#125;</code>
结果为<code>&#123;9:3, 16:4, 25:3&#125;</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/list/page/11/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/list/">1</a><span class="space">&hellip;</span><a class="page-number" href="/list/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/list/page/13/">13</a><a class="page-number" href="/list/page/14/">14</a><a class="extend next" rel="next" href="/list/page/13/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="IzayoiSakuye"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">IzayoiSakuye</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">138</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/IzayoiSakuye" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;IzayoiSakuye" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">IzayoiSakuye</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">458k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">13:53</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<!-- hexo injector body_end start -->
<script src="https://cdn.jsdelivr.net/npm/hexo-shiki-plugin@latest/lib/codeblock.js"></script>

  <script>
  const CODE_CONFIG = {
    beautify: true,
    highlightCopy: true,
    highlightLang: true,
    highlightHeightLimit: undefined,
    isHighlightShrink: false,
    copy: {
      success: 'Copy Success',
      error: 'Copy Error',
      noSupport: 'Browser Not Support',
    }
  };
  console.log(
    `%c hexo-shiki-plugin %c v1.0.27 %c https://github.com/nova1751/hexo-shiki-plugin`,
    "color: #fff; background: #5f5f5f",
    "color: #fff; background: #80c8f8",
    ""
  );
  </script>
  <!-- hexo injector body_end end --></body>
</html>
