<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"izayoisakuye.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="红魔咖啡馆">
<meta property="og:url" content="https://izayoisakuye.github.io/list/page/11/index.html">
<meta property="og:site_name" content="红魔咖啡馆">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="IzayoiSakuye">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://izayoisakuye.github.io/list/page/11/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>红魔咖啡馆</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-shiki-plugin@latest/lib/codeblock.css">
<style>:root{--hl-color:#90a4ae;--hl-bg:#f6f8fa;--hltools-bg:#e6ebf1;--hltools-color:#90a4ae;--hlnumber-bg:#f6f8fa;--hlnumber-color:rgba(144,164,174,0.5);--hlscrollbar-bg:#dce4eb;--hlexpand-bg:linear-gradient(180deg,rgba(246,248,250,0.1),rgba(246,248,250,0.9))}</style><!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">红魔咖啡馆</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">头发越掉越多，头发越掉越少</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/CS61A%20Homework4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/CS61A%20Homework4/" class="post-title-link" itemprop="url">【CS61A】CS61A——Homework 4</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-28 21:47:43" itemprop="dateCreated datePublished" datetime="2025-03-28T21:47:43+08:00">2025-03-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:50:32" itemprop="dateModified" datetime="2025-07-31T17:50:32+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="homework-4">Homework 4</h1>
<h2 id="sequence">Sequence</h2>
<h3 id="q1-deep-map">Q1: Deep Map</h3>
<p>写一个函数<code>deep_map</code>，使得传入的列表s（s可能是嵌套列表）中的每一个元素替换为该元素传入函数f后的返回值</p>
<p><strong>每一个元素包括嵌套列表中的每一个元素</strong></p>
<blockquote>
<p>提示：<code>type(a)==list</code>会返回True如果a是列表</p>
</blockquote>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">deep_map</span><span style="color: #24292E">(f, s):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Replace all non-list elements x with f(x) in the nested list s.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">six = [1, 2, [3, [4], 5], 6]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">deep_map(lambda x: x * x, six)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">six</span></span>
<span class="line"><span style="color: #032F62">    [1, 4, [9, [16], 25], 36]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62"># Check that you&#39;re not making new lists</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">s = [3, [1, [4, [1]]]]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">s1 = s[1]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">s2 = s1[1]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">s3 = s2[1]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">deep_map(lambda x: x + 1, s)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">s</span></span>
<span class="line"><span style="color: #032F62">    [4, [2, [5, [2]]]]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">s1 is s[1]</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">s2 is s1[1]</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">s3 is s2[1]</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">len</span><span style="color: #24292E">(s)):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">type</span><span style="color: #24292E">(s[i])</span><span style="color: #D73A49">==</span><span style="color: #005CC5">list</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            deep_map(f,s[i])</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            s[i]</span><span style="color: #D73A49">=</span><span style="color: #24292E">f(s[i])</span></span></code></pre></div></div></figure>
<p>遍历列表下标i，如果发现内部有嵌套列表，就递归进入遍历嵌套列表，若当前位置为一般元素，则调用函数并将结果替换</p>
<h2 id="data-abstraction">Data Abstraction</h2>
<h3 id="要用到的adt">要用到的ADT</h3>
<p>Mobile：一种悬挂雕像</p>
<ul>
<li>一个mobile一定有一个左arm和一个右arm</li>
<li>一个arm有一个正数大小的长度，且尾端一定挂着一个mobile或一个planet</li>
<li>一个planet有一个正数大小的质量，且没有东西挂在上面</li>
</ul>
<h3 id="q2-mass">Q2: Mass</h3>
<p>补充完成构造器planet与选择器mass</p>
<p>使得每一格planet用一个二元列表表示：<code>['planet', mass]</code></p>
<p>其中<code>total_mass</code>函数可以用来计算一个planet或一个mobile的质量</p>
<figure class="shiki c++"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #6F42C1">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">planet</span><span style="color: #24292E">(</span><span style="color: #6F42C1">mass</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Construct a planet of some mass.&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    assert mass </span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> [</span><span style="color: #032F62">&#39;planet&#39;</span><span style="color: #24292E">, </span><span style="color: #E36209">mass</span><span style="color: #24292E">]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">def mass(</span><span style="color: #6F42C1">p</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">    &quot;&quot;&quot;Select the mass of a planet.&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    assert is_planet(</span><span style="color: #6F42C1">p</span><span style="color: #24292E">), &#39;must call mass on a planet&#39;</span></span>
<span class="line"><span style="color: #24292E">    return p[1]</span></span></code></pre></div></div></figure>
<p>按照提示构造即可</p>
<h3 id="q3-balanced">Q3: Balanced</h3>
<p>实现balanced函数，判断m是否是一个”balanced mobile”</p>
<p>“balanced mobile”的定义如下：</p>
<ul>
<li>左arm的扭矩等于右arm的扭矩，其中扭矩为左arm的长度与挂在左arm上的质量之积</li>
<li>挂在arm尾端的mobile自身为balanced
mobile，planet自身也是balanced的</li>
</ul>
<blockquote>
<p>提示：使用<code>total_mass</code>函数，选择器函数，不要逾越ADT的屏障</p>
</blockquote>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">balanced</span><span style="color: #24292E">(m):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return whether m is balanced.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">t, u, v = examples()</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">balanced(t)</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">balanced(v)</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">p = mobile(arm(3, t), arm(2, u))</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">balanced(p)</span></span>
<span class="line"><span style="color: #032F62">    False</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">balanced(mobile(arm(1, v), arm(1, p)))</span></span>
<span class="line"><span style="color: #032F62">    False</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">balanced(mobile(arm(1, p), arm(1, v)))</span></span>
<span class="line"><span style="color: #032F62">    False</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">from construct_check import check</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62"># checking for abstraction barrier violations by banning indexing</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">check(HW_SOURCE_FILE, &#39;balanced&#39;, [&#39;Index&#39;])</span></span>
<span class="line"><span style="color: #032F62">    True</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> is_planet(m):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">True</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        torque_left </span><span style="color: #D73A49">=</span><span style="color: #24292E"> length(left(m))</span><span style="color: #D73A49">*</span><span style="color: #24292E">total_mass(end(left(m)))</span></span>
<span class="line"><span style="color: #24292E">        torque_right </span><span style="color: #D73A49">=</span><span style="color: #24292E"> length(right(m))</span><span style="color: #D73A49">*</span><span style="color: #24292E">total_mass(end(right(m)))</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> torque_left </span><span style="color: #D73A49">==</span><span style="color: #24292E"> torque_right </span><span style="color: #D73A49">and</span><span style="color: #24292E"> balanced(end(left(m))) </span><span style="color: #D73A49">and</span><span style="color: #24292E"> balanced(end(right(m)))</span></span></code></pre></div></div></figure>
<p>这个结构类似树，我们可以递归的求解这个问题</p>
<ul>
<li>Base
case：若传入的是一个planet，则返回True，因为planet在这个结构中类似叶子节点，是整个mobile的终点</li>
<li>递归：每次需要比较mobile的左右扭矩是否相等，同时递归比较左右arm下的左右扭矩是否相等，直到递归到planet直接返回True</li>
</ul>
<h2 id="trees">Trees</h2>
<h3 id="q4-maximum-path-sum">Q4: Maximum Path Sum</h3>
<p>写一个函数，返回树上从根节点到叶子节点的所有路径中节点权值总和最大值</p>
<figure class="shiki c++"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #6F42C1">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">max_path_sum</span><span style="color: #24292E">(</span><span style="color: #6F42C1">t</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return the maximum root-to-leaf path sum of a tree.</span></span>
<span class="line"><span style="color: #032F62">    &gt;&gt;&gt; t = tree(1, [tree(5, [tree(1), tree(3)]), tree(10)])</span></span>
<span class="line"><span style="color: #032F62">    &gt;&gt;&gt; max_path_sum(t) # 1, 10</span></span>
<span class="line"><span style="color: #032F62">    11</span></span>
<span class="line"><span style="color: #032F62">    &gt;&gt;&gt; t2 = tree(5, [tree(4, [tree(1), tree(3)]), tree(2, [tree(10), tree(3)])])</span></span>
<span class="line"><span style="color: #032F62">    &gt;&gt;&gt; max_path_sum(t2) # 5, 2, 10</span></span>
<span class="line"><span style="color: #032F62">    17</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    max_n </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #6F42C1">is_leaf</span><span style="color: #24292E">(t):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #6F42C1">label</span><span style="color: #24292E">(t)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b in </span><span style="color: #6F42C1">branches</span><span style="color: #24292E">(t):</span></span>
<span class="line"><span style="color: #24292E">        max_n</span><span style="color: #D73A49">=</span><span style="color: #6F42C1">max</span><span style="color: #24292E">(</span><span style="color: #6F42C1">max_path_sum</span><span style="color: #24292E">(b),max_n)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> max_n</span><span style="color: #D73A49">+</span><span style="color: #6F42C1">label</span><span style="color: #24292E">(t)</span></span></code></pre></div></div></figure>
<p>使用递归遍历</p>
<p>先直接深入到叶子节点，发现叶子节点则返回节点权值，再往前返回，每上一个节点返回已经求和的值+当前节点权值，且每次遍历取当前不同路径的最大值</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/CS61A%20Generators/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/CS61A%20Generators/" class="post-title-link" itemprop="url">【CS61A】CS61A——Generators</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-27 09:28:07" itemprop="dateCreated datePublished" datetime="2025-03-27T09:28:07+08:00">2025-03-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:49:58" itemprop="dateModified" datetime="2025-07-31T17:49:58+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="generators">Generators</h1>
<h2 id="generator-functions">Generator Functions</h2>
<ul>
<li>生成器函数是用来<strong>生成(yields)</strong>值而非返回值的函数</li>
<li>生成器函数使用yield关键字返回生成的值</li>
<li>生成器可以多次生成值，而普通函数只能返回一次值</li>
<li>生成器是调用生成器函数时自动创建的迭代器</li>
<li>调用生成器函数，它会返回一个生成器来迭代该函数生成的值</li>
<li>当函数执行到yield时，生成的值将会作为下次迭代器的数值，而此时执行在yield处执行，但会记住当前环境，以便下次继续执行
e.g.</li>
</ul>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">evens</span><span style="color: #24292E">(start, end):</span></span>
<span class="line"><span style="color: #24292E">    even </span><span style="color: #D73A49">=</span><span style="color: #24292E"> start </span><span style="color: #D73A49">+</span><span style="color: #24292E"> (start</span><span style="color: #D73A49">%</span><span style="color: #005CC5">2</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">while</span><span style="color: #24292E"> even</span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">end:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">yield</span><span style="color: #24292E"> even</span></span>
<span class="line"><span style="color: #24292E">        even</span><span style="color: #D73A49">+=</span><span style="color: #005CC5">2</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> evens(</span><span style="color: #005CC5">2</span><span style="color: #24292E">,</span><span style="color: #005CC5">10</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> t:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">print</span><span style="color: #24292E">(i)</span></span></code></pre></div></div></figure>
<pre><code>2
4
6
8</code></pre>
<h2 id="generators-iterators">Generators &amp; Iterators</h2>
<p>yield from语句 yield from语句允许从一个迭代器或可迭代变量中生成所有值
两个例子：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">countdown</span><span style="color: #24292E">(k):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> k</span><span style="color: #D73A49">&gt;</span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">yield</span><span style="color: #24292E"> k</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">yield from</span><span style="color: #24292E"> countdown(k</span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #032F62">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color: #032F62">        等价于 </span></span>
<span class="line"><span style="color: #032F62">        for i in countdown(k-1):</span></span>
<span class="line"><span style="color: #032F62">            yield i</span></span>
<span class="line"><span style="color: #032F62">        &#39;&#39;&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">yield</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;Blast off&#39;</span></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> countdown(</span><span style="color: #005CC5">3</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> t:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">print</span><span style="color: #24292E">(i)</span></span></code></pre></div></div></figure>
<pre><code>3
2
1
Blast of</code></pre>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">prefixes</span><span style="color: #24292E">(s):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> s:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">yield from</span><span style="color: #24292E"> prefixes(s[:</span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">])</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">yield</span><span style="color: #24292E"> s</span></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">substrings</span><span style="color: #24292E">(s):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> s:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">yield from</span><span style="color: #24292E"> prefixes(s)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">yield from</span><span style="color: #24292E"> substrings(s[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:])</span></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">list</span><span style="color: #24292E">(prefixes(</span><span style="color: #032F62">&quot;both&quot;</span><span style="color: #24292E">)))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">list</span><span style="color: #24292E">(substrings(</span><span style="color: #032F62">&quot;top&quot;</span><span style="color: #24292E">)))</span></span></code></pre></div></div></figure>
<pre><code>[&#39;b&#39;, &#39;bo&#39;, &#39;bot&#39;, &#39;both&#39;]
[&#39;t&#39;, &#39;to&#39;, &#39;top&#39;, &#39;o&#39;, &#39;op&#39;, &#39;p&#39;]</code></pre>
<h2 id="example-partitions">Example: Partitions</h2>
<p>详见递归时的数字分割例子 使用列表：</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">partitions</span><span style="color: #24292E">(n,m):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> n</span><span style="color: #D73A49">&lt;</span><span style="color: #005CC5">0</span><span style="color: #24292E"> </span><span style="color: #D73A49">or</span><span style="color: #24292E"> m</span><span style="color: #D73A49">==</span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> []</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        exact_match </span><span style="color: #D73A49">=</span><span style="color: #24292E"> []</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> n</span><span style="color: #D73A49">==</span><span style="color: #24292E">m:</span></span>
<span class="line"><span style="color: #24292E">            exact_match </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #005CC5">str</span><span style="color: #24292E">(m)]</span></span>
<span class="line"><span style="color: #24292E">        with_m </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [p</span><span style="color: #D73A49">+</span><span style="color: #032F62">&#39;+&#39;</span><span style="color: #D73A49">+</span><span style="color: #005CC5">str</span><span style="color: #24292E">(m) </span><span style="color: #D73A49">for</span><span style="color: #24292E"> p </span><span style="color: #D73A49">in</span><span style="color: #24292E"> partitions(n</span><span style="color: #D73A49">-</span><span style="color: #24292E">m,m)]</span></span>
<span class="line"><span style="color: #24292E">        without_m </span><span style="color: #D73A49">=</span><span style="color: #24292E"> partitions(n,m</span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> exact_match</span><span style="color: #D73A49">+</span><span style="color: #24292E">with_m</span><span style="color: #D73A49">+</span><span style="color: #24292E">without_m</span></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> p </span><span style="color: #D73A49">in</span><span style="color: #24292E"> partitions(</span><span style="color: #005CC5">6</span><span style="color: #24292E">,</span><span style="color: #005CC5">4</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">print</span><span style="color: #24292E">(p)</span></span></code></pre></div></div></figure>
<pre><code>2+4
1+1+4
3+3
1+2+3
1+1+1+3
2+2+2
1+1+2+2
1+1+1+1+2
1+1+1+1+1+1</code></pre>
<p>使用生成器： 使代码更优雅，而且可以输出指定个数的可能结果</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">partitions</span><span style="color: #24292E">(n,m):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> n</span><span style="color: #D73A49">&gt;</span><span style="color: #005CC5">0</span><span style="color: #24292E"> </span><span style="color: #D73A49">and</span><span style="color: #24292E"> m</span><span style="color: #D73A49">&gt;</span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> n</span><span style="color: #D73A49">==</span><span style="color: #24292E">m:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">yield</span><span style="color: #24292E"> </span><span style="color: #005CC5">str</span><span style="color: #24292E">(m)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">for</span><span style="color: #24292E"> p </span><span style="color: #D73A49">in</span><span style="color: #24292E"> partitions(n</span><span style="color: #D73A49">-</span><span style="color: #24292E">m,m):</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">yield</span><span style="color: #24292E"> p</span><span style="color: #D73A49">+</span><span style="color: #032F62">&#39;+&#39;</span><span style="color: #D73A49">+</span><span style="color: #005CC5">str</span><span style="color: #24292E">(m)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">yield from</span><span style="color: #24292E"> partitions(n,m</span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> partitions(</span><span style="color: #005CC5">6</span><span style="color: #24292E">,</span><span style="color: #005CC5">4</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> p </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">5</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">next</span><span style="color: #24292E">(t))</span></span></code></pre></div></div></figure>
<pre><code>2+4
1+1+4
3+3
1+2+3
1+1+1+3</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E9%98%9F%E5%88%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E9%98%9F%E5%88%97/" class="post-title-link" itemprop="url">【数据结构】队列</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-26 07:14:37" itemprop="dateCreated datePublished" datetime="2025-03-26T07:14:37+08:00">2025-03-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-12-17 22:04:00" itemprop="dateModified" datetime="2025-12-17T22:04:00+08:00">2025-12-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">算法与数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>介绍了多种队列的原理与实现，以及单调队列</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E9%98%9F%E5%88%97/">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/CS61A%20Iterators/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/CS61A%20Iterators/" class="post-title-link" itemprop="url">【CS61A】CS61A——Iterators</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-22 10:51:32" itemprop="dateCreated datePublished" datetime="2025-03-22T10:51:32+08:00">2025-03-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:50:57" itemprop="dateModified" datetime="2025-07-31T17:50:57+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="iterators">Iterators</h1>
<h2 id="iterators-1">Iterators</h2>
<p>迭代器是一种常见的接口，python中常用作一种访问不同容器元素的方式 -
容器可以提供一个迭代器，以按照某种顺序访问容器内元素 -
<code>iter(iterable)</code>：创建迭代器，接受任何可迭代的东西，返回可迭代元素的迭代器
- <code>next(iterator)</code>：推进迭代器，返回迭代器的下一个元素 -
不同迭代器可以迭代相同值，但它们彼此之间是独立的 -
使用list，tuple或sorted函数可以查看一个迭代器的剩余元素 -
当迭代器到达末尾，Python会返回一个StopIteration的异常 -
所有迭代器都是可变对象</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">s </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [[</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">2</span><span style="color: #24292E">],</span><span style="color: #005CC5">3</span><span style="color: #24292E">,</span><span style="color: #005CC5">4</span><span style="color: #24292E">,</span><span style="color: #005CC5">5</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">iter</span><span style="color: #24292E">(s)</span></span>
<span class="line"><span style="color: #24292E">u </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">iter</span><span style="color: #24292E">(s)</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;t:&quot;</span><span style="color: #24292E">,</span><span style="color: #005CC5">next</span><span style="color: #24292E">(t))</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;u:&quot;</span><span style="color: #24292E">,</span><span style="color: #005CC5">next</span><span style="color: #24292E">(u))</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;t:&quot;</span><span style="color: #24292E">,</span><span style="color: #005CC5">next</span><span style="color: #24292E">(t))</span></span>
<span class="line"><span style="color: #005CC5">list</span><span style="color: #24292E">(t)</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">next</span><span style="color: #24292E">(t))</span></span></code></pre></div></div></figure>
<pre><code>t: [1, 2]
u: [1, 2]
t: 3

---------------------------------------------------------------------------
StopIteration                             Traceback (most recent call last)

Cell In[4], line 8
      6 print(&quot;t:&quot;,next(t))
      7 list(t)
----&gt; 8 print(next(t))
StopIteration: </code></pre>
<h2 id="dictionary-itertion">Dictionary Itertion</h2>
<p>字典的键，值以及键值对都是可遍历的 ，可以生成迭代器
字典中的键值对顺序取决于它们的添加顺序（Python3.6+）
迭代各项目的方法如下</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">d </span><span style="color: #D73A49">=</span><span style="color: #24292E"> {</span><span style="color: #032F62">&#39;one&#39;</span><span style="color: #24292E">:</span><span style="color: #005CC5">1</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;two&#39;</span><span style="color: #24292E">:</span><span style="color: #005CC5">2</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;three&#39;</span><span style="color: #24292E">:</span><span style="color: #005CC5">3</span><span style="color: #24292E">}</span></span>
<span class="line"><span style="color: #24292E">d[</span><span style="color: #032F62">&#39;zero&#39;</span><span style="color: #24292E">] </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #6A737D"># 遍历键</span></span>
<span class="line"><span style="color: #24292E">k </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">iter</span><span style="color: #24292E">(d.keys()) </span><span style="color: #6A737D"># iter(d)</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">next</span><span style="color: #24292E">(k))</span></span>
<span class="line"><span style="color: #6A737D"># 遍历值</span></span>
<span class="line"><span style="color: #24292E">v </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">iter</span><span style="color: #24292E">(d.values())</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">next</span><span style="color: #24292E">(v))</span></span>
<span class="line"><span style="color: #6A737D"># 遍历键值对</span></span>
<span class="line"><span style="color: #24292E">i </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">iter</span><span style="color: #24292E">(d.items()) </span><span style="color: #6A737D"># 以元组形式迭代</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">next</span><span style="color: #24292E">(i))</span></span></code></pre></div></div></figure>
<pre><code>one
1
(&#39;one&#39;, 1)</code></pre>
<p><strong>注意：若在迭代器创建后，字典发生了结构上的改变（增加，减少元素等），迭代器会失效。若只是改变键对应的值则不会。</strong></p>
<h2 id="for-statement">For Statement</h2>
<p>for循环可以遍历迭代器本身，可以从迭代器当前位置遍历到迭代器末尾，但这会推进迭代器，故不能重复使用
而可迭代对象可以从头到尾遍历多次</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">r </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">3</span><span style="color: #24292E">,</span><span style="color: #005CC5">6</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">ri </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">iter</span><span style="color: #24292E">(r)</span></span>
<span class="line"><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> ri:</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(i)</span></span>
<span class="line"><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> ri:</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(i)</span></span></code></pre></div></div></figure>
<pre><code>3
4
5</code></pre>
<h2 id="built-in-function-for-iteration">Built-in Function for
Iteration</h2>
<p>许多python内置的序列操作使用迭代器作为返回值，以惰性方式计算
惰性计算意味着只有被请求时才计算结果 e.g.
<code>map(func, iterable)</code>：接受一个函数与一个可迭代对象，将该函数应用于可迭代对象中的每一个元素，返回一个迭代器遍历可迭代对象中所有x在func下的值
<code>filter(func, iterable)</code>：接受一个断言函数与一个可迭代对象，返回一个迭代器遍历可迭代对象中所有在func下为真的x
<code>zip(first_iter, second_iter)</code>：接受两个可迭代对象，返回迭代器遍历相同索引的(x,y)对
<code>reversed(sequence)</code>：接受一个序列，返回迭代器反向遍历该序列</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">bcd </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #032F62">&#39;b&#39;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;c&#39;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;d&#39;</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">m </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">map</span><span style="color: #24292E">(</span><span style="color: #D73A49">lambda</span><span style="color: #24292E"> x: x.upper(), bcd) </span><span style="color: #6A737D"># 返回一个迭代器</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">next</span><span style="color: #24292E">(m))</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">next</span><span style="color: #24292E">(m))</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">next</span><span style="color: #24292E">(m))</span></span></code></pre></div></div></figure>
<pre><code>B
C
D</code></pre>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">double</span><span style="color: #24292E">(x):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(x, </span><span style="color: #032F62">&#39;=&gt;&#39;</span><span style="color: #24292E">,</span><span style="color: #005CC5">2</span><span style="color: #D73A49">*</span><span style="color: #24292E">x)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">2</span><span style="color: #D73A49">*</span><span style="color: #24292E">x</span></span>
<span class="line"><span style="color: #24292E">m </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">map</span><span style="color: #24292E">(double, </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">3</span><span style="color: #24292E">,</span><span style="color: #005CC5">7</span><span style="color: #24292E">))</span></span>
<span class="line"><span style="color: #24292E">f </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">lambda</span><span style="color: #24292E"> y: y</span><span style="color: #D73A49">&gt;=</span><span style="color: #005CC5">10</span></span>
<span class="line"><span style="color: #24292E">t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">filter</span><span style="color: #24292E">(f,m) </span><span style="color: #6A737D"># 仅遍历满足f函数下的返回值</span></span>
<span class="line"><span style="color: #005CC5">list</span><span style="color: #24292E">(</span><span style="color: #005CC5">filter</span><span style="color: #24292E">(f,m)) </span><span style="color: #6A737D"># 将所有可能的返回值存入列表</span></span></code></pre></div></div></figure>
<pre><code>3 =&gt; 6
4 =&gt; 8
5 =&gt; 10
6 =&gt; 12





[10, 12]</code></pre>
<h2 id="zip">Zip</h2>
<p>zip函数返回迭代器，遍历相同索引的值组成的元组
若一个可迭代对象比另一个长，zip会跳过多余的
zip可以接受多个可迭代对象</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">list</span><span style="color: #24292E">(</span><span style="color: #005CC5">zip</span><span style="color: #24292E">([</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">2</span><span style="color: #24292E">],[</span><span style="color: #005CC5">3</span><span style="color: #24292E">,</span><span style="color: #005CC5">4</span><span style="color: #24292E">])))</span></span>
<span class="line"></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">list</span><span style="color: #24292E">(</span><span style="color: #005CC5">zip</span><span style="color: #24292E">([</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">2</span><span style="color: #24292E">],[</span><span style="color: #005CC5">3</span><span style="color: #24292E">,</span><span style="color: #005CC5">4</span><span style="color: #24292E">,</span><span style="color: #005CC5">5</span><span style="color: #24292E">])))</span></span>
<span class="line"></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #005CC5">list</span><span style="color: #24292E">(</span><span style="color: #005CC5">zip</span><span style="color: #24292E">([</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">2</span><span style="color: #24292E">],[</span><span style="color: #005CC5">3</span><span style="color: #24292E">,</span><span style="color: #005CC5">4</span><span style="color: #24292E">,</span><span style="color: #005CC5">5</span><span style="color: #24292E">], [</span><span style="color: #005CC5">6</span><span style="color: #24292E">,</span><span style="color: #005CC5">7</span><span style="color: #24292E">])))</span></span></code></pre></div></div></figure>
<pre><code>[(1, 3), (2, 4)]
[(1, 3), (2, 4)]
[(1, 3, 6), (2, 4, 7)]</code></pre>
<blockquote>
<p>e.g. 检测任意一个序列是否为回文序列，使用zip</p>
</blockquote>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">palindrome</span><span style="color: #24292E">(s):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># &gt;&gt;&gt; palindrome([3,1,4,1,5])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># False</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># &gt;&gt;&gt; palindrome([3,1,4,1,3])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># True</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># &gt;&gt;&gt; palindrome(&#39;seveneves&#39;)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D"># True</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">all</span><span style="color: #24292E">([a</span><span style="color: #D73A49">==</span><span style="color: #24292E">b </span><span style="color: #D73A49">for</span><span style="color: #24292E"> a,b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">zip</span><span style="color: #24292E">(s,</span><span style="color: #005CC5">reversed</span><span style="color: #24292E">(s))])</span></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;__main__&#39;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(palindrome([</span><span style="color: #005CC5">3</span><span style="color: #24292E">,</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">4</span><span style="color: #24292E">,</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">3</span><span style="color: #24292E">]))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(palindrome(</span><span style="color: #032F62">&#39;seveneves&#39;</span><span style="color: #24292E">))</span></span></code></pre></div></div></figure>
<pre><code>True
True</code></pre>
<h2 id="using-iterators">Using Iterators</h2>
<p>使用迭代器的代码对数据本身更改不大 -
当数据表示形式改变时，使用迭代器可以不必重写代码 -
其他人更可能在他们的数据上使用你的代码
迭代器将序列中的元素与所在位置绑定 -
将对象传递给其他函数时始终保留着位置 -
可以确保序列中的每个元素只执行一次 -
传递迭代器限制了对序列执行的操作，即只能请求下一个值</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%88/" class="post-title-link" itemprop="url">【数据结构】栈</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-21 22:21:59" itemprop="dateCreated datePublished" datetime="2025-03-21T22:21:59+08:00">2025-03-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-12-17 22:04:09" itemprop="dateModified" datetime="2025-12-17T22:04:09+08:00">2025-12-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">算法与数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>介绍了栈的原理与用法，以及单调栈</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%88/">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E8%A1%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E8%A1%A8/" class="post-title-link" itemprop="url">【数据结构】表</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-21 22:21:27" itemprop="dateCreated datePublished" datetime="2025-03-21T22:21:27+08:00">2025-03-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-12-17 21:59:48" itemprop="dateModified" datetime="2025-12-17T21:59:48+08:00">2025-12-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">算法与数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>7.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>14 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>介绍了线性表，主要是多种链表的实现</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E8%A1%A8/">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/Web%E5%BA%94%E7%94%A8%E7%9A%84%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94%E6%9C%BA%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/Web%E5%BA%94%E7%94%A8%E7%9A%84%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94%E6%9C%BA%E5%88%B6/" class="post-title-link" itemprop="url">【计算机网络】Web应用的请求与响应机制</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-21 22:20:01" itemprop="dateCreated datePublished" datetime="2025-03-21T22:20:01+08:00">2025-03-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:58:44" itemprop="dateModified" datetime="2025-07-31T17:58:44+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">计算机网络</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>11 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="web应用的请求与响应机制">Web应用的请求与响应机制</h1>
<h2 id="http协议">HTTP协议</h2>
<p>HTTP是web通信的基础协议，是客户端与服务器进行交互的标准，所有www文件必须遵守这个标准，<strong>其端口号为80</strong></p>
<p>HTTPS是HTTP的安全版，在HTTP下加入SSL层
SSL是主要用于web的安全传输协议，在传输层对网络连接进行加密，<strong>其端口号为443</strong></p>
<h3 id="工作原理">工作原理</h3>
<p>HTTP通信由两部分组成：客户端请求信息、服务器响应信息 -
当用户在地址栏输入一个URL并回车后，客户端向web服务器发送HTTP请求，建立一个到服务器指定端口的TCP连接
-
服务器在那个端口监听客户端发送过来的请求，收到请求后，服务器根据内容与类型进行处理，并生成HTTP响应，包括一个状态行与相应的信息
- 客户端接受服务器返回的响应，并根据内容呈现给用户</p>
<h3 id="url">URL</h3>
<p>统一资源定位符（Uniform / Universal Resource
Locator），是用于完整描述网页和其他资源的地址的一种标识方法
<strong>基本格式：
<code>scheme://host[:port#]/path/…/[?query-string][#anchor]</code></strong>
- scheme：协议（如http与https） - host：服务器ip地址或域名 -
port：服务器端口（如果走协议默认端口，缺省端口80） -
path：访问资源的路径 - query-string：参数，发送给http服务器的数据 -
anchor：锚，跳转到网页的指定锚点位置</p>
<h3 id="http请求">HTTP请求</h3>
<p>HTTP用来提交和获取资源，客户端发送一个HTTP请求请求到服务器的请求信息，包括：请求行、请求头部、空行、请求数据四个部分，格式如下</p>
<figure>
<img
src="https://i-blog.csdnimg.cn/blog_migrate/925eb592741c87dae2107c846ddb5aba.png"
alt="HTTP请求" />
<figcaption aria-hidden="true">HTTP请求</figcaption>
</figure>
<p>一些常用的请求报头： -
Host：对应URL中的web名称与端口号，用于指定被请求资源的Internet主机与端口号
- Connection：表示客户端与服务器连接类型 Client 发起一个包含
Connection:keep-alive 的请求， HTTP/1.1 使用 keep-alive 为默认值。
Server 收到请求后：如果 Server 支持 keep-alive（长连接）， 回复一个包含
Connection:keep-alive 的响应， 不关闭连接；如果 Server 不支持
keep-alive， 回复一个包含 Connection:close 的响应， 关闭连接。如果
client 收到包含 Connection:keep-alive 的响应，
向同一个连接发送下一个请求， 直到一方主动关闭连接。 keep-alive
在很多情况下能够重用连接， 减少资源消耗， 缩短响应时间，
比如当浏览器需要多个文件时(比如一个 HTML 文件和相关的图形文件)，
不需要每次都去请求建立连接。 -
Upgrade-Insecure-Requests：升级不安全的请求， 意思是会在加载 http
资源时自动替换成 https 请求， 让浏览器不再显示 https 页面中的 http
请求警报。 -
User-Agent：客户浏览器的详细信息，服务器根据这条信息来判断来访用户是否为真实用户
- Accept：指浏览器或其他客户端可以接受的MIME（Multipurpose Internet Mail
Extensions）文件类型，服务器根据其判断并返回适当文件格式 - Accept: /：
表示什么都可以接收。 - Accept: text/html, application/xhtml+xml;q=0.9,
image/<em>;q=0.8： 表示浏览器支持的 MIME
类型分别是html文本、xhtml和xml文档、 所有的图像格式资源。 q是权重系数，
范围 <span class="math inline">\(0 =&lt; q &lt;=
1\)</span>，q值越大，请求越倾向于获得其“;”之前的类型表示的内容。若没有指定
q 值， 则默认为1，按从左到右排序顺序；若被赋值为
0，则用于表示浏览器不接受此内容类型。
Text：用于标准化地表示的文本信息，文本消息可以是多种字符集和或者多种格式的；
Application：用于传输应用程序数据或者二进制数据。 -
Referer：表明产生请求的网页来自于哪个URL，用户是从该referer页面访问到当前请求的页面，可以用来跟踪web请求来自哪个页面，哪个网站
- Accept-Encoding：指出浏览器可以接受的编码方式。
编码方式不同于文件格式， 它是为了压缩文件并加速文件传递速度。
浏览器在接收到 Web 响应之后先解码， 然后再检查文件格式，
许多情形下这可以减少大量的下载时间。 如Accept-Encoding:gzip;q=1.0,
identity; q=0.5, </em>;q=0 如果有多个 Encoding 同时匹配,
按照q值顺序排列，本例中按顺序支持 gzip, identity压缩编码，
支持gzip的浏览器会返回经过gzip编码的HTML页面。
如果请求消息中没有设置这个域服务器假定客户端对各种内容编码都可以接受。 -
Accept-Language：指语言可以接受的语言种类，如zh或zh-cn指中文 -
Accept-Charset：指浏览器可以接受的字符编码，缺省为任何字符集 -
Cookie：浏览器用这个属性向服务器发送 Cookie。 -
Content-Type：POST请求里用来表示的内容类型。</p>
<p>示例：</p>
<figure>
<img
src="https://i-blog.csdnimg.cn/blog_migrate/21c6fd7651fd37a38c96cdaebb1ba542.png"
alt="HTTP请求示例" />
<figcaption aria-hidden="true">HTTP请求示例</figcaption>
</figure>
<h3 id="常见http方法">常见HTTP方法</h3>
<ul>
<li><p>GET：请求指定资源，通常附加在URL中，不适合传递大量数据与隐私数据</p></li>
<li><p>POST：向服务器提交数据，通常用于提交表单与上传文件</p></li>
<li><p>PUT：更新指定资源内容</p></li>
<li><p>HEAD：只返回响应头，不返回响应体</p></li>
<li><p>OPTIONS：查询服务器支持的HTTP方法</p></li>
</ul>
<h3 id="http响应">HTTP响应</h3>
<p>由四部分组成，分别为状态行、消息报头、空行、响应正文，格式如下：</p>
<figure>
<img
src="https://i-blog.csdnimg.cn/blog_migrate/8c9e4d37f17a3b0e3706e5d10b280aa2.png"
alt="HTTP响应" />
<figcaption aria-hidden="true">HTTP响应</figcaption>
</figure>
<p>理论上所有响应头信息都是回应请求头的，但还会添加对应的响应头信息</p>
<p>示例：</p>
<figure>
<img
src="https://i-blog.csdnimg.cn/blog_migrate/ec31faa6f61a7d1a6c7495c60608eff2.png"
alt="HTTP响应示例" />
<figcaption aria-hidden="true">HTTP响应示例</figcaption>
</figure>
<h3 id="http状态码">HTTP状态码</h3>
<p>web服务器对HTTP请求的回应，表示请求是否成功处理</p>
<ul>
<li>1xx：服务器成功接受部分请求</li>
<li>2xx：成功（200 OK）</li>
<li>3xx：重定向（301 Moved Permanently）</li>
<li>4xx：客户端错误（404 Not Found）</li>
<li>5xx：服务器错误（500 Internal Server Error）</li>
</ul>
<h3 id="cookie与session">Cookie与Session：</h3>
<p>服务器和客户端的交互仅限于请求/响应过程，结束之后便断开，在下一次请求时，服务器会认为新的客户端。为了维护他们之间的链接，让服务器知道这是前一个用户发送的请求，必须在一个地方保存客户端的信息。
- Cookie：通过在 客户端 记录的信息确定用户的身份。 - Session：通过在
服务器端 记录的信息确定用户的身份</p>
<h2 id="请求参数的获取与处理">请求参数的获取与处理</h2>
<p>HTTP携带多种数据，这里通过python，使用urllib与requests库来处理这些数据</p>
<h3 id="处理url路径与查询参数">处理URL路径与查询参数</h3>
<p>​ URL 查询参数是指在 URL 中通过键值对的形式传递的参数，用于在 URL
中增加额外的信息，如查询条件、排序方式、页码等。查询参数通常使用键值对的形式定义，键和值之间用
= 符号分隔，多个参数之间用 &amp; 符号分隔。例如，定义一个查询参数 page
的值为 <em>2</em>，可以写成 page=2</p>
<p>​ 查询参数的主要用途是通过 URL
传递信息，实现搜索查询、过滤器等功能。例如，用户在输入框输入
<em>abc</em>，按下回车之后，会返回一条地址为
<em>https://www.example.com/?keyword=abc</em> 的
URL。在用户访问时，服务器会通过 URL 参数 keyword
检索相关内容，然后返回给用户</p>
<p>​
在python中，可以使用urllib库中urllib.parse模块中的<code>parse_qs</code>函数来解析查询字符串，以下为示例程序，程序返回字典，键值对分别为等号左右的内容</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">from</span><span style="color: #24292E"> urllib.parse </span><span style="color: #D73A49">import</span><span style="color: #24292E"> urlparse, parse_qs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 示例URL</span></span>
<span class="line"><span style="color: #24292E">url </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;http://example.com/path/to/resource?name=John&amp;age=30&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 解析URL</span></span>
<span class="line"><span style="color: #24292E">parsed_url </span><span style="color: #D73A49">=</span><span style="color: #24292E"> urlparse(url)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 获取路径</span></span>
<span class="line"><span style="color: #24292E">path </span><span style="color: #D73A49">=</span><span style="color: #24292E"> parsed_url.path</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Path:&quot;</span><span style="color: #24292E">, path)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 解析查询参数</span></span>
<span class="line"><span style="color: #24292E">query_params </span><span style="color: #D73A49">=</span><span style="color: #24292E"> parse_qs(parsed_url.query)</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Query Parameters:&quot;</span><span style="color: #24292E">, query_params)</span></span></code></pre></div></div></figure>
<pre><code>Path: /path/to/resource
Query Parameters: &#123;&#39;name&#39;: [&#39;John&#39;], &#39;age&#39;: [&#39;30&#39;]&#125;</code></pre>
<h3 id="处理表单数据">处理表单数据</h3>
<pre><code>表单数据是通过网页上的表单收集并提交给服务器的信息，用户可以填写表单来提供各种信息。当用户点击表单上的提交按钮时，表单数据会被发送到服务器，服务器则根据接收到的数据执行相应操作
表单的基本结构如下
<figure class="shiki html"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">&lt;</span><span style="color: #22863A">form</span><span style="color: #24292E"> </span><span style="color: #6F42C1">action</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;/submit&quot;</span><span style="color: #24292E"> </span><span style="color: #6F42C1">method</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;post&quot;</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">    &lt;</span><span style="color: #22863A">label</span><span style="color: #24292E"> </span><span style="color: #6F42C1">for</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;username&quot;</span><span style="color: #24292E">&gt;用户名:&lt;/</span><span style="color: #22863A">label</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">    &lt;</span><span style="color: #22863A">input</span><span style="color: #24292E"> </span><span style="color: #6F42C1">type</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;text&quot;</span><span style="color: #24292E"> </span><span style="color: #6F42C1">id</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;username&quot;</span><span style="color: #24292E"> </span><span style="color: #6F42C1">name</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;username&quot;</span><span style="color: #24292E">&gt;&lt;</span><span style="color: #22863A">br</span><span style="color: #24292E">&gt;&lt;</span><span style="color: #22863A">br</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">    </span></span>
<span class="line"><span style="color: #24292E">    &lt;</span><span style="color: #22863A">label</span><span style="color: #24292E"> </span><span style="color: #6F42C1">for</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;password&quot;</span><span style="color: #24292E">&gt;密码:&lt;/</span><span style="color: #22863A">label</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">    &lt;</span><span style="color: #22863A">input</span><span style="color: #24292E"> </span><span style="color: #6F42C1">type</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;password&quot;</span><span style="color: #24292E"> </span><span style="color: #6F42C1">id</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;password&quot;</span><span style="color: #24292E"> </span><span style="color: #6F42C1">name</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;password&quot;</span><span style="color: #24292E">&gt;&lt;</span><span style="color: #22863A">br</span><span style="color: #24292E">&gt;&lt;</span><span style="color: #22863A">br</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">    </span></span>
<span class="line"><span style="color: #24292E">    &lt;</span><span style="color: #22863A">input</span><span style="color: #24292E"> </span><span style="color: #6F42C1">type</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;submit&quot;</span><span style="color: #24292E"> </span><span style="color: #6F42C1">value</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;提交&quot;</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">&lt;/</span><span style="color: #22863A">form</span><span style="color: #24292E">&gt;</span></span></code></pre></div></div></figure></code></pre>
<p><code>&lt;form&gt;</code>标签定义了一个表单，action属性指定了表单数据提交的目标url，method属性制定了提交数据时使用的HTTP方法
-
GET：当method属性被设置为GET时，表单数据会被附加在url后面作为查询参数提交。这种方法适合提交少量的非敏感数据
-
POST：当method属性被设置为POST时，表单数据会在请求体中发送，不会出现在url中。这种方法适合提交敏感与大量数据
<code>&lt;input&gt;</code>标签用于创建输入控件，type属性定义了输入控件的类型，name属性为提交属性时的键名，id用于关联<code>&lt;label&gt;</code>标签
<code>&lt;label&gt;</code>标签用于描述每个输入控件的用途
表单数据的编码： -
application/x-www-form-urlencoded：这是默认的编码方式，表单数据被编码成键值对的形式，如
username=John&amp;password=Doe。 -
multipart/form-data：当表单中包含文件上传字段时，必须使用此编码方式。它允许将文件和其他数据一起发送。</p>
<p>我们可以在python中通过request库发送POST请求来获取表单数据并处理，返回的是html类型的表单数据</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> requests</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 示例表单数据</span></span>
<span class="line"><span style="color: #24292E">form_data </span><span style="color: #D73A49">=</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&#39;username&#39;</span><span style="color: #24292E">: </span><span style="color: #032F62">&#39;john_doe&#39;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&#39;password&#39;</span><span style="color: #24292E">: </span><span style="color: #032F62">&#39;securepassword&#39;</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 发送POST请求</span></span>
<span class="line"><span style="color: #24292E">response </span><span style="color: #D73A49">=</span><span style="color: #24292E"> requests.post(</span><span style="color: #032F62">&#39;https://www.baidu.com/&#39;</span><span style="color: #24292E">, </span><span style="color: #E36209">data</span><span style="color: #D73A49">=</span><span style="color: #24292E">form_data)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 查看响应</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Response Status Code:&quot;</span><span style="color: #24292E">, response.status_code)</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Response Text:&quot;</span><span style="color: #24292E">, response.text)</span></span></code></pre></div></div></figure>
<h3 id="处理json数据">处理JSON数据</h3>
<p>python中可以使用request库来处理json数据</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> requests</span></span>
<span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> json</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 示例JSON数据</span></span>
<span class="line"><span style="color: #24292E">json_data </span><span style="color: #D73A49">=</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&#39;name&#39;</span><span style="color: #24292E">: </span><span style="color: #032F62">&#39;John&#39;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&#39;age&#39;</span><span style="color: #24292E">: </span><span style="color: #005CC5">30</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 发送POST请求</span></span>
<span class="line"><span style="color: #24292E">response </span><span style="color: #D73A49">=</span><span style="color: #24292E"> requests.post(</span><span style="color: #032F62">&#39;https://www.baidu.com/&#39;</span><span style="color: #24292E">, </span><span style="color: #E36209">json</span><span style="color: #D73A49">=</span><span style="color: #24292E">json_data)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 查看响应</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Response Status Code:&quot;</span><span style="color: #24292E">, response.status_code)</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Response JSON:&quot;</span><span style="color: #24292E">, response.json())</span></span></code></pre></div></div></figure>
<h3 id="处理文件上传">处理文件上传</h3>
<pre><code>HTTP文件上传是通过HTTP协议将文件从客户端传输到服务器的一种方式。通常使用POST方法，并且数据格式为multipart/form-data。这种格式允许在同一个请求中传输多个字段和文件。
HTTP文件上传中，请求头需要包含Content-Type，其值为multipart/form-data，并指定一个边界（boundary），用于分隔不同的字段和文件。例如
<figure class="shiki html"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">POST /upload HTTP/1.1</span></span>
<span class="line"><span style="color: #24292E">Host: www.example.com</span></span>
<span class="line"><span style="color: #24292E">Content-Type: multipart/form-data; boundary=----WebKitFormBoundarycz5DOEJKqu7XXB7k</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">------WebKitFormBoundarycz5DOEJKqu7XXB7k</span></span>
<span class="line"><span style="color: #24292E">Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;example.png&quot;</span></span>
<span class="line"><span style="color: #24292E">Content-Type: image/png</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">&lt;</span><span style="color: #B31D28; font-style: italic">文件内容</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">------WebKitFormBoundarycz5DOEJKqu7XXB7k--</span></span></code></pre></div></div></figure>
我们可以使用python的request库来处理文件上传响应</code></pre>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> requests</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 打开文件</span></span>
<span class="line"><span style="color: #24292E">files </span><span style="color: #D73A49">=</span><span style="color: #24292E"> {</span><span style="color: #032F62">&#39;file&#39;</span><span style="color: #24292E">: </span><span style="color: #005CC5">open</span><span style="color: #24292E">(</span><span style="color: #032F62">&#39;example.txt&#39;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;rb&#39;</span><span style="color: #24292E">)}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 发送POST请求</span></span>
<span class="line"><span style="color: #24292E">response </span><span style="color: #D73A49">=</span><span style="color: #24292E"> requests.post(</span><span style="color: #032F62">&#39;http://example.com/upload&#39;</span><span style="color: #24292E">, </span><span style="color: #E36209">files</span><span style="color: #D73A49">=</span><span style="color: #24292E">files)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D"># 查看响应</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Response Status Code:&quot;</span><span style="color: #24292E">, response.status_code)</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Response Text:&quot;</span><span style="color: #24292E">, response.text)</span></span></code></pre></div></div></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/CS61A%20Mutablity/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/CS61A%20Mutablity/" class="post-title-link" itemprop="url">【CS61A】CS61A——Mutablity</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-19 19:10:30" itemprop="dateCreated datePublished" datetime="2025-03-19T19:10:30+08:00">2025-03-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:51:45" itemprop="dateModified" datetime="2025-07-31T17:51:45+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="mutablity">Mutablity</h1>
<h2 id="objects">Objects</h2>
<ul>
<li>对象用于表达信息，是一种包含了数据与行为的数据抽象</li>
<li>有属性的东西都可以作为对象，python中一切皆对象</li>
<li>Python中，优先级最高的对象被称为类（class）</li>
<li>面向对象编程（OOP）：
<ul>
<li>对象是OOP的核心</li>
<li>OOP使用一种暗喻来组织大型程序</li>
<li>使用一种特殊语法可以提高程序的可读性与组织</li>
</ul></li>
<li>很多数据操作都是通过对象实现的</li>
<li>对象可以做许多相关的事情，而函数只能做一件事</li>
</ul>
<h2 id="e.g.-string">e.g. String</h2>
<p>字符串是一种表达文本的数据抽象 ### 字符串的表示
目前常见的表示方法是用ASCII与Unicode字符集表示字符
前者包含了控制字符、数字、字母与标点，后者则包含了不同语言中的更多字符</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">from</span><span style="color: #24292E"> unicodedata </span><span style="color: #D73A49">import</span><span style="color: #24292E"> name, lookup</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(name(</span><span style="color: #032F62">&#39;A&#39;</span><span style="color: #24292E">)) </span><span style="color: #6A737D"># 查询字符集中的字符名称</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(lookup(</span><span style="color: #032F62">&#39;BABY&#39;</span><span style="color: #24292E">)) </span><span style="color: #6A737D"># 根据字符名称输出对应字符</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(lookup(</span><span style="color: #032F62">&#39;BABY&#39;</span><span style="color: #24292E">).encode()) </span><span style="color: #6A737D"># 查看该字符的字节编码</span></span></code></pre></div></div></figure>
<pre><code>LATIN CAPITAL LETTER A
👶
b&#39;\xf0\x9f\x91\xb6&#39;</code></pre>
<h2 id="mutation-operations">Mutation Operations</h2>
<h3 id="一些对象是可以改变的">一些对象是可以改变的</h3>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">suits </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #032F62">&#39;coin&#39;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;string&#39;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;myriad&#39;</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">original_suits </span><span style="color: #D73A49">=</span><span style="color: #24292E"> suits</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(suits.pop()) </span><span style="color: #6A737D"># 弹出一个元素（默认最后一个）</span></span>
<span class="line"><span style="color: #24292E">suits.remove(</span><span style="color: #032F62">&#39;string&#39;</span><span style="color: #24292E">) </span><span style="color: #6A737D"># 移除指定元素</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(suits)</span></span>
<span class="line"><span style="color: #24292E">suits.append(</span><span style="color: #032F62">&#39;cup&#39;</span><span style="color: #24292E">) </span><span style="color: #6A737D"># 在尾部增加一个元素</span></span>
<span class="line"><span style="color: #24292E">suits.extend([</span><span style="color: #032F62">&#39;sword&#39;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;club&#39;</span><span style="color: #24292E">]) </span><span style="color: #6A737D"># 添加序列中的多个元素来拓展列表</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(suits)</span></span>
<span class="line"><span style="color: #24292E">suits[</span><span style="color: #005CC5">2</span><span style="color: #24292E">] </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;spade&#39;</span></span>
<span class="line"><span style="color: #24292E">suits[</span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span><span style="color: #005CC5">2</span><span style="color: #24292E">] </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #032F62">&#39;heart&#39;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#39;diamond&#39;</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(original_suits)</span></span></code></pre></div></div></figure>
<pre><code>myriad
[&#39;coin&#39;]
[&#39;coin&#39;, &#39;cup&#39;, &#39;sword&#39;, &#39;club&#39;]
[&#39;heart&#39;, &#39;diamond&#39;, &#39;spade&#39;, &#39;club&#39;]</code></pre>
<p>根据以上代码发现，我们可以对一个对象（suits）进行若干操作来变化其值
而我们在最初将suits与original_suits进行绑定，故变化也会在original_suits中体现
综上，所有指向相同对象的names都会受到<strong>Mutation</strong>的影响，其中这里的mutation指对象发生的变化
只有可变类型的对象才能更改，如列表与字典</p>
<h3 id="函数调用时发生的mutation">函数调用时发生的Mutation</h3>
<p>函数可以更改其作用域中任何可变对象的值</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">mystery</span><span style="color: #24292E">(s):</span></span>
<span class="line"><span style="color: #24292E">    s.pop()</span></span>
<span class="line"><span style="color: #24292E">    s.pop()</span></span>
<span class="line"><span style="color: #24292E">four </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">2</span><span style="color: #24292E">,</span><span style="color: #005CC5">3</span><span style="color: #24292E">,</span><span style="color: #005CC5">4</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">mystery(four)</span></span></code></pre></div></div></figure>
<p>mystery函数实现了对列表对象值的更改，甚至mystery不需要传入参数，直接更改其所在作用域（全局作用域）中four列表的内容</p>
<h3 id="表达式的mutation">表达式的Mutation</h3>
<p>表达式的值会随着names绑定值或对象的改变而改变</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">x </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">2</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(x</span><span style="color: #D73A49">+</span><span style="color: #24292E">x)</span></span>
<span class="line"><span style="color: #24292E">x.append(</span><span style="color: #005CC5">3</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(x</span><span style="color: #D73A49">+</span><span style="color: #24292E">x)</span></span></code></pre></div></div></figure>
<pre><code>[1, 2, 1, 2]
[1, 2, 3, 1, 2, 3]</code></pre>
<h2 id="tuples">Tuples</h2>
<ul>
<li>元组是一种不可变的序列，使用圆括号包裹起来</li>
<li>实际上，任何以逗号隔开的元素都会被解释成元组，非必须加圆括号</li>
<li>使用<code>tuple()</code>创建元组或将其他序列转化为元组</li>
<li>在单个元素后加一个逗号可以将单个元素转化成元组</li>
<li>元组可以相加，也可以使用成员运算符in来判断元素是否存在</li>
<li>由于元组不可变，可以将其作为字典的键使用</li>
<li>若元组中包含了可变对象，则该对象可以被更改</li>
</ul>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">s </span><span style="color: #D73A49">=</span><span style="color: #24292E"> ([</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">2</span><span style="color: #24292E">],</span><span style="color: #005CC5">3</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">s[</span><span style="color: #005CC5">0</span><span style="color: #24292E">][</span><span style="color: #005CC5">0</span><span style="color: #24292E">]</span><span style="color: #D73A49">=</span><span style="color: #005CC5">4</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(s)</span></span></code></pre></div></div></figure>
<pre><code>([4, 2], 3)</code></pre>
<h2 id="mutation">Mutation</h2>
<h3 id="相同与改变">相同与改变</h3>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">a </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #005CC5">10</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">b </span><span style="color: #D73A49">=</span><span style="color: #24292E"> a</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(a</span><span style="color: #D73A49">==</span><span style="color: #24292E">b)</span></span>
<span class="line"><span style="color: #24292E">a.append(</span><span style="color: #005CC5">20</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(a</span><span style="color: #D73A49">==</span><span style="color: #24292E">b)</span></span></code></pre></div></div></figure>
<pre><code>True
True</code></pre>
<p>在这个例子中，我们可以说a与b是<strong>相同的</strong>，因为b与a绑定到了同一个对象，当对其中一个发生变化，另一个也会同时改变</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">a </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #005CC5">10</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">b </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #005CC5">10</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(a</span><span style="color: #D73A49">==</span><span style="color: #24292E">b)</span></span>
<span class="line"><span style="color: #24292E">b.append(</span><span style="color: #005CC5">20</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(a</span><span style="color: #D73A49">==</span><span style="color: #24292E">b)</span></span></code></pre></div></div></figure>
<p>在这个例子中，a与b是<strong>不同的</strong>，尽管它们曾有过相同的内容，但对b进行改变后，a会随之改变，因此这时二者便不同了</p>
<h3 id="identity-operators">Identity Operators</h3>
<p><strong>Identity</strong>： <code>&lt;exp0&gt; is &lt;exp1&gt;</code>
当两个表达式指向相同对象时返回True <strong>Equality</strong>
<code>&lt;exp0&gt; == &lt;exp1&gt;</code>
当两个表达式拥有相同值时返回True</p>
<p><strong>相同对象始终拥有相等的值，但反之不一定成立</strong></p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #24292E">a </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #005CC5">10</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">b </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #005CC5">10</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">c </span><span style="color: #D73A49">=</span><span style="color: #24292E"> b</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(a </span><span style="color: #D73A49">is</span><span style="color: #24292E"> b)</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(b </span><span style="color: #D73A49">is</span><span style="color: #24292E"> c)</span></span></code></pre></div></div></figure>
<pre><code>False
True</code></pre>
<h3 id="可变对象在函数中的默认值">可变对象在函数中的默认值</h3>
<p>函数中声明的默认值是函数值的一部分，而不是每次调用时才生成
这导致了若该对象是可变的，而且在函数中间进行了修改，则该修改会在下次调用函数时保留
如下面的代码，每次调用增加的值会保留在默认值中</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">f</span><span style="color: #24292E">(s</span><span style="color: #D73A49">=</span><span style="color: #24292E">[]):</span></span>
<span class="line"><span style="color: #24292E">    s.append(</span><span style="color: #005CC5">3</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">len</span><span style="color: #24292E">(s)</span></span>
<span class="line"><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">3</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(f())</span></span></code></pre></div></div></figure>
<pre><code>1
2
3</code></pre>
<h2 id="mutable-fuctions">Mutable Fuctions</h2>
<p>在函数中使用可变对象可以在多次调用时保留上次操作的值</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">make_withdraw_list</span><span style="color: #24292E">(balance):</span></span>
<span class="line"><span style="color: #24292E">    b </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [balance]</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">withdraw</span><span style="color: #24292E">(amount):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> amount </span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> b[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;Insufficient funds&#39;</span></span>
<span class="line"><span style="color: #24292E">        b[</span><span style="color: #005CC5">0</span><span style="color: #24292E">] </span><span style="color: #D73A49">=</span><span style="color: #24292E"> b[</span><span style="color: #005CC5">0</span><span style="color: #24292E">] </span><span style="color: #D73A49">-</span><span style="color: #24292E"> amount</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> b[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> withdraw</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">withdraw </span><span style="color: #D73A49">=</span><span style="color: #24292E"> make_withdraw_list(</span><span style="color: #005CC5">100</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(withdraw(</span><span style="color: #005CC5">25</span><span style="color: #24292E">))</span></span>
<span class="line"><span style="color: #005CC5">print</span><span style="color: #24292E">(withdraw(</span><span style="color: #005CC5">25</span><span style="color: #24292E">))</span></span>
<span class="line"><span style="color: #24292E">withdraw(</span><span style="color: #005CC5">100</span><span style="color: #24292E">)</span></span></code></pre></div></div></figure>
<pre><code>75
50
&#39;Insufficient funds&#39;</code></pre>
<p>该函数将存款存在作为可变对象的列表中
函数中的withdraw函数始终指向列表b并修改其值，该列表总是这个列表，随着时间其中的内容被更改
为了实现每次更改列表中的值，该函数使用了可变对象来创建了一个可变函数
<img src="images/Lecture15——Mutability/function.png"
alt="function" /></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/CS61A%20Trees/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/CS61A%20Trees/" class="post-title-link" itemprop="url">【CS61A】CS61A——Trees</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-09 13:38:32" itemprop="dateCreated datePublished" datetime="2025-03-09T13:38:32+08:00">2025-03-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:53:03" itemprop="dateModified" datetime="2025-07-31T17:53:03+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="trees">Trees</h1>
<h2 id="描述树形结构的术语">描述树形结构的术语</h2>
<p><strong>递归描述</strong> - 一课树有一个根节点和一系列分支节点 -
每个分支也是一棵树，也有根节点与分支节点 -
没有分支节点的树被称为叶子节点</p>
<p><strong>亲戚描述</strong></p>
<ul>
<li>树的每个位置被称为节点</li>
<li>每个节点可以表示任何值</li>
<li>一个节点可以称为另一个节点的父节点/子节点 <img
src="Lecture14——Trees/trees.png" alt="trees" /></li>
</ul>
<h2 id="实现树形结构的抽象">实现树形结构的抽象</h2>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">tree</span><span style="color: #24292E">(label, branches</span><span style="color: #D73A49">=</span><span style="color: #24292E">[]):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> branch </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">assert</span><span style="color: #24292E"> is_tree(branch), </span><span style="color: #032F62">&quot;branches must be trees&quot;</span><span style="color: #24292E"> </span><span style="color: #6A737D"># 确保构造的是一棵树</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> [label] </span><span style="color: #D73A49">+</span><span style="color: #005CC5">list</span><span style="color: #24292E">(branches) </span><span style="color: #6A737D"># 将同一层的分支节点放在一个列表中</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">label</span><span style="color: #24292E">(tree):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> tree[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">branches</span><span style="color: #24292E">(tree):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> tree[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">is_tree</span><span style="color: #24292E">(tree):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;判断是不是一棵树&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">type</span><span style="color: #24292E">(tree) </span><span style="color: #D73A49">!=</span><span style="color: #24292E"> </span><span style="color: #005CC5">list</span><span style="color: #24292E"> </span><span style="color: #D73A49">or</span><span style="color: #24292E"> </span><span style="color: #005CC5">len</span><span style="color: #24292E">(tree) </span><span style="color: #D73A49">&lt;</span><span style="color: #005CC5">1</span><span style="color: #24292E">: </span><span style="color: #6A737D"># 确保树的分支是树，以及存在一个值</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">False</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> branch </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(tree): </span><span style="color: #6A737D"># 确保树的分支的分支都是树</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #D73A49">not</span><span style="color: #24292E"> is_tree(branch):</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">False</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">True</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">is_leaf</span><span style="color: #24292E">(tree): </span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;判断树本身是不是叶子节点&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">not</span><span style="color: #24292E"> branches(tree)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> tree(</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">5</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">7</span><span style="color: #24292E">)]), tree(</span><span style="color: #005CC5">6</span><span style="color: #24292E">)])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(t)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(label(t))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(branches(t))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(label(branches(t)[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]))</span></span></code></pre></div></div></figure>
<pre><code>[1, [5, [7]], [6]]
1
[[5, [7]], [6]]
5</code></pre>
<h2 id="tree-processing">Tree Processing</h2>
<h3 id="处理叶子节点">处理叶子节点</h3>
<p>使用递归，将会在每个分支节点进行递归调用，最后合并</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">count_leaves</span><span style="color: #24292E">(t):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Count the leaves of tree T&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> is_leaf(t):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">sum</span><span style="color: #24292E">([count_leaves(b) </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(t)])</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> tree(</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">5</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">7</span><span style="color: #24292E">)]), tree(</span><span style="color: #005CC5">6</span><span style="color: #24292E">)])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(count_leaves(t))</span></span></code></pre></div></div></figure>
<pre><code>2</code></pre>
<h3 id="返回叶子节点的值">返回叶子节点的值</h3>
<p>实现leaves函数，返回树的叶子节点的值的列表</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">leaves</span><span style="color: #24292E">(tree):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;return a list containing the leaf labels of tree&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> is_leaf(tree):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> [label(tree)]</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">sum</span><span style="color: #24292E">([leaves(b) </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(tree)], [])</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> tree(</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">5</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">7</span><span style="color: #24292E">)]), tree(</span><span style="color: #005CC5">6</span><span style="color: #24292E">)])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(leaves(t))</span></span></code></pre></div></div></figure>
<pre><code>[7, 6]</code></pre>
<h3 id="根据树创建树">根据树创建树</h3>
<p>使用递归根据另一棵树创建一颗新树 如让叶子节点值+1的树
或让所有节点都+1的树</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">increment_leaves</span><span style="color: #24292E">(t):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;return a tree like t but with leaf labels incremented&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> is_leaf(t):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> tree(label(t)</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        bs </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [increment_leaves(b) </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(t)]</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> tree(label(t), bs)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">increment</span><span style="color: #24292E">(t):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;return a tree like t but with all labels incremented&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> tree(label(t)</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [increment(b) </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(t)])</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> tree(</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">5</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">7</span><span style="color: #24292E">)]), tree(</span><span style="color: #005CC5">6</span><span style="color: #24292E">)])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(leaves(t))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(increment_leaves(t))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(increment(t))</span></span></code></pre></div></div></figure>
<pre><code>[7, 6]
[1, [5, [8]], [7]]
[2, [6, [8]], [7]]</code></pre>
<h2 id="例print_tree">例：print_tree</h2>
<p>按节点在树中的深度缩进打印一颗树</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">print_tree</span><span style="color: #24292E">(t, indent </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(</span><span style="color: #032F62">&#39; &#39;</span><span style="color: #D73A49">*</span><span style="color: #24292E">indent </span><span style="color: #D73A49">+</span><span style="color: #24292E"> </span><span style="color: #005CC5">str</span><span style="color: #24292E">(label(t)))</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(t):</span></span>
<span class="line"><span style="color: #24292E">        print_tree(b, indent</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> tree(</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">5</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">7</span><span style="color: #24292E">)]), tree(</span><span style="color: #005CC5">6</span><span style="color: #24292E">)])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(print_tree(t))</span></span></code></pre></div></div></figure>
<pre><code>1
 5
  7
 6
None</code></pre>
<h2 id="例-求从根节点沿路径到叶子节点求和并打印">例：
求从根节点沿路径到叶子节点求和并打印</h2>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">print_sums</span><span style="color: #24292E">(t, so_far):</span></span>
<span class="line"><span style="color: #24292E">    so_far </span><span style="color: #D73A49">=</span><span style="color: #24292E"> so_far </span><span style="color: #D73A49">+</span><span style="color: #24292E">label(t)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> is_leaf(t):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">print</span><span style="color: #24292E">(so_far)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">for</span><span style="color: #24292E"> b </span><span style="color: #D73A49">in</span><span style="color: #24292E"> branches(t):</span></span>
<span class="line"><span style="color: #24292E">            print_sums(b,so_far)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> </span><span style="color: #005CC5">__name__</span><span style="color: #24292E"> </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;__main__&quot;</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">    t </span><span style="color: #D73A49">=</span><span style="color: #24292E"> tree(</span><span style="color: #005CC5">1</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">5</span><span style="color: #24292E">, [tree(</span><span style="color: #005CC5">7</span><span style="color: #24292E">)]), tree(</span><span style="color: #005CC5">6</span><span style="color: #24292E">)])</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">print</span><span style="color: #24292E">(print_sums(t, </span><span style="color: #005CC5">0</span><span style="color: #24292E">))</span></span></code></pre></div></div></figure>
<pre><code>13
7
None</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://izayoisakuye.github.io/CS61A/CS61A%20Lab4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="IzayoiSakuye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红魔咖啡馆">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/CS61A/CS61A%20Lab4/" class="post-title-link" itemprop="url">【CS61A】CS61A——Lab4</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-03-06 17:57:15" itemprop="dateCreated datePublished" datetime="2025-03-06T17:57:15+08:00">2025-03-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-31 17:51:23" itemprop="dateModified" datetime="2025-07-31T17:51:23+08:00">2025-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS61A/" itemprop="url" rel="index"><span itemprop="name">CS61A</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><em>Dictionaries 部分跳过</em></p>
<h1 id="divide">Divide</h1>
<p>传入一组商数与一组除数，返回字典，键为每个商数，值为表示每个商数能整除的除数的列表</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">divide</span><span style="color: #24292E">(quotients, divisors):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Return a dictonary in which each quotient q is a key for the list of</span></span>
<span class="line"><span style="color: #032F62">    divisors that it divides evenly.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">divide([3, 4, 5], [8, 9, 10, 11, 12])</span></span>
<span class="line"><span style="color: #032F62">    {3: [9, 12], 4: [8, 12], 5: [10]}</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">divide(range(1, 5), range(20, 25))</span></span>
<span class="line"><span style="color: #032F62">    {1: [20, 21, 22, 23, 24], 2: [20, 22, 24], 3: [21, 24], 4: [20, 24]}</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> {i: [x </span><span style="color: #D73A49">for</span><span style="color: #24292E"> x </span><span style="color: #D73A49">in</span><span style="color: #24292E"> divisors </span><span style="color: #D73A49">if</span><span style="color: #24292E"> x</span><span style="color: #D73A49">%</span><span style="color: #24292E">i</span><span style="color: #D73A49">==</span><span style="color: #005CC5">0</span><span style="color: #24292E">] </span><span style="color: #D73A49">for</span><span style="color: #24292E"> i </span><span style="color: #D73A49">in</span><span style="color: #24292E"> quotients}</span></span></code></pre></div></div></figure>
<p>注意用表达式建立列表与字典的方法</p>
<h1 id="buying-fruit">Buying Fruit</h1>
<p>实现buy函数，通过给定的水果与价格，用恰好为传入的total_amount的价格购买指定的水果（每种指定水果至少买一次）
用display函数输出所有结果</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">buy</span><span style="color: #24292E">(required_fruits, prices, total_amount):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Print ways to buy some of each fruit so that the sum of prices is amount.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">prices = {&#39;oranges&#39;: 4, &#39;apples&#39;: 3, &#39;bananas&#39;: 2, &#39;kiwis&#39;: 9}</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">buy([&#39;apples&#39;, &#39;oranges&#39;, &#39;bananas&#39;], prices, 12)</span></span>
<span class="line"><span style="color: #032F62">    [2 apples][1 orange][1 banana]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">buy([&#39;apples&#39;, &#39;oranges&#39;, &#39;bananas&#39;], prices, 16)</span></span>
<span class="line"><span style="color: #032F62">    [2 apples][1 orange][3 bananas]</span></span>
<span class="line"><span style="color: #032F62">    [2 apples][2 oranges][1 banana]</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">buy([&#39;apples&#39;, &#39;kiwis&#39;], prices, 36)</span></span>
<span class="line"><span style="color: #032F62">    [3 apples][3 kiwis]</span></span>
<span class="line"><span style="color: #032F62">    [6 apples][2 kiwis]</span></span>
<span class="line"><span style="color: #032F62">    [9 apples][1 kiwi]</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">add</span><span style="color: #24292E">(fruits, amount, cart):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> fruits </span><span style="color: #D73A49">==</span><span style="color: #24292E"> [] </span><span style="color: #D73A49">and</span><span style="color: #24292E"> amount </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #005CC5">print</span><span style="color: #24292E">(cart)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">elif</span><span style="color: #24292E"> fruits </span><span style="color: #D73A49">and</span><span style="color: #24292E"> amount </span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">            fruit </span><span style="color: #D73A49">=</span><span style="color: #24292E"> fruits[</span><span style="color: #005CC5">0</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">            price </span><span style="color: #D73A49">=</span><span style="color: #24292E"> prices[fruit]</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">for</span><span style="color: #24292E"> k </span><span style="color: #D73A49">in</span><span style="color: #24292E"> </span><span style="color: #005CC5">range</span><span style="color: #24292E">(</span><span style="color: #005CC5">1</span><span style="color: #24292E">,amount</span><span style="color: #D73A49">//</span><span style="color: #24292E">price</span><span style="color: #D73A49">+</span><span style="color: #005CC5">1</span><span style="color: #24292E">):</span></span>
<span class="line"><span style="color: #24292E">                add(fruits[</span><span style="color: #005CC5">1</span><span style="color: #24292E">:], amount</span><span style="color: #D73A49">-</span><span style="color: #24292E">k</span><span style="color: #D73A49">*</span><span style="color: #24292E">price, cart</span><span style="color: #D73A49">+</span><span style="color: #24292E">display(fruit,k))</span></span>
<span class="line"><span style="color: #24292E">    add(required_fruits, total_amount, </span><span style="color: #032F62">&#39;&#39;</span><span style="color: #24292E">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">display</span><span style="color: #24292E">(fruit, count):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;Display a count of a fruit in square brackets.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">display(&#39;apples&#39;, 3)</span></span>
<span class="line"><span style="color: #032F62">    &#39;[3 apples]&#39;</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">display(&#39;apples&#39;, 1)</span></span>
<span class="line"><span style="color: #032F62">    &#39;[1 apple]&#39;</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">assert</span><span style="color: #24292E"> count </span><span style="color: #D73A49">&gt;=</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span><span style="color: #24292E"> </span><span style="color: #D73A49">and</span><span style="color: #24292E"> fruit[</span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">] </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;s&#39;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> count </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        fruit </span><span style="color: #D73A49">=</span><span style="color: #24292E"> fruit[:</span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">]  </span><span style="color: #6A737D"># get rid of the plural s</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;[&#39;</span><span style="color: #24292E"> </span><span style="color: #D73A49">+</span><span style="color: #24292E"> </span><span style="color: #005CC5">str</span><span style="color: #24292E">(count) </span><span style="color: #D73A49">+</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39; &#39;</span><span style="color: #24292E"> </span><span style="color: #D73A49">+</span><span style="color: #24292E"> fruit </span><span style="color: #D73A49">+</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;]&#39;</span></span></code></pre></div></div></figure>
<p>返回条件是fruits为空或钱被花光，且递归时每次都取fruits的首个元素
可以推断递归时对fruits数组进行了切片，每次往后切一个元素
for循环遍历选择每个水果的个数，从至少选一个到最多能选的个数<span
class="math inline">\(\frac{amount}{price}+1\)</span>
递归时传入总价格减去已经使用的价格数的不同情况，并使用display函数进行字符串拼接来显示</p>
<h1 id="cities-adt">Cities ADT</h1>
<p>以下问题基于建立的该ADT
一个城市由以下参数描述：<strong>名称、经度、维度</strong>
包括一个构造函数 -
<code>make_city(name, lat, lon)</code>：建立一个城市对象，存储其名称、经度、维度
以下选择器 - <code>get_name(city)</code>：获取城市名称 -
<code>get_lat(city)</code>：获取城市经度 -
<code>get_lon(city)</code>：获取城市维度
该抽象数据类型已经在文件中实现，你不需要知道是怎么实现的</p>
<h1 id="distance">Distance</h1>
<p>计算并返回两城市的距离</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">from</span><span style="color: #24292E"> math </span><span style="color: #D73A49">import</span><span style="color: #24292E"> sqrt</span></span>
<span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">distance</span><span style="color: #24292E">(city_a, city_b):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">city_a = make_city(&#39;city_a&#39;, 0, 1)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">city_b = make_city(&#39;city_b&#39;, 0, 2)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">distance(city_a, city_b)</span></span>
<span class="line"><span style="color: #032F62">    1.0</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">city_c = make_city(&#39;city_c&#39;, 6.5, 12)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">city_d = make_city(&#39;city_d&#39;, 2.5, 15)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">distance(city_c, city_d)</span></span>
<span class="line"><span style="color: #032F62">    5.0</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> sqrt(</span><span style="color: #005CC5">abs</span><span style="color: #24292E">(get_lat(city_a)</span><span style="color: #D73A49">-</span><span style="color: #24292E">get_lat(city_b))</span><span style="color: #D73A49">**</span><span style="color: #005CC5">2</span><span style="color: #D73A49">+</span><span style="color: #005CC5">abs</span><span style="color: #24292E">(get_lon(city_a)</span><span style="color: #D73A49">-</span><span style="color: #24292E">get_lon(city_b))</span><span style="color: #D73A49">**</span><span style="color: #005CC5">2</span><span style="color: #24292E">)</span></span></code></pre></div></div></figure>
<h1 id="closer-city">Closer City</h1>
<p>比较两个城市离给定经纬度的远近，返回更近的那个城市</p>
<figure class="shiki python"><div class='codeblock'><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div><div class="code"><pre class="shiki github-light"><code><span class="line"><span style="color: #D73A49">def</span><span style="color: #24292E"> </span><span style="color: #6F42C1">closer_city</span><span style="color: #24292E">(lat, lon, city_a, city_b):</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #032F62">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #032F62">    Returns the name of either city_a or city_b, whichever is closest to</span></span>
<span class="line"><span style="color: #032F62">    coordinate (lat, lon). If the two cities are the same distance away</span></span>
<span class="line"><span style="color: #032F62">    from the coordinate, consider city_b to be the closer city.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">berkeley = make_city(&#39;Berkeley&#39;, 37.87, 112.26)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">stanford = make_city(&#39;Stanford&#39;, 34.05, 118.25)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">closer_city(38.33, 121.44, berkeley, stanford)</span></span>
<span class="line"><span style="color: #032F62">    &#39;Stanford&#39;</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">bucharest = make_city(&#39;Bucharest&#39;, 44.43, 26.10)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">vienna = make_city(&#39;Vienna&#39;, 48.20, 16.37)</span></span>
<span class="line"><span style="color: #032F62">    </span><span style="color: #D73A49">&gt;&gt;&gt; </span><span style="color: #032F62">closer_city(41.29, 174.78, bucharest, vienna)</span></span>
<span class="line"><span style="color: #032F62">    &#39;Bucharest&#39;</span></span>
<span class="line"><span style="color: #032F62">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #24292E">    fake_city </span><span style="color: #D73A49">=</span><span style="color: #24292E"> make_city(</span><span style="color: #032F62">&#39;fake&#39;</span><span style="color: #24292E">, lat, lon)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> distance(fake_city,city_a)</span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">distance(fake_city,city_b):</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> get_name(city_a)</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">else</span><span style="color: #24292E">:</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> get_name(city_b)</span></span></code></pre></div></div></figure>
<p>可以将指定的经纬度看作第三个城市并构造这么一个对象
通过上面已经写完的distance函数计算两城市与第三个城市的距离并比较，输出更近的
若相同输出city_b</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/list/page/10/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/list/">1</a><span class="space">&hellip;</span><a class="page-number" href="/list/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/list/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/list/page/14/">14</a><a class="extend next" rel="next" href="/list/page/12/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="IzayoiSakuye"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">IzayoiSakuye</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">136</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/IzayoiSakuye" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;IzayoiSakuye" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">IzayoiSakuye</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">448k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">13:35</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<!-- hexo injector body_end start -->
<script src="https://cdn.jsdelivr.net/npm/hexo-shiki-plugin@latest/lib/codeblock.js"></script>

  <script>
  const CODE_CONFIG = {
    beautify: true,
    highlightCopy: true,
    highlightLang: true,
    highlightHeightLimit: undefined,
    isHighlightShrink: false,
    copy: {
      success: 'Copy Success',
      error: 'Copy Error',
      noSupport: 'Browser Not Support',
    }
  };
  console.log(
    `%c hexo-shiki-plugin %c v1.0.27 %c https://github.com/nova1751/hexo-shiki-plugin`,
    "color: #fff; background: #5f5f5f",
    "color: #fff; background: #80c8f8",
    ""
  );
  </script>
  <!-- hexo injector body_end end --></body>
</html>
